

				;;-------------------------------------------------------------------------------------;;
				;;------------------------#Bunitos 2018 map.ini, si!#--------------------;;
				;;-------------------------------------------------------------------------------------;;
				


;;Mordor CaH.

ChildObject RohanTheoden GondorFaramir
End






;;------------------------------------------------------------;;
;MORDOR_HARADRIM_BOW_DAMAGE				640
;MORDOR_ARCHER_DAMAGE					500;;=;;400
;GOBLIN_ARCHER_DAMAGE					520
;GOBLIN_ARCHER_DAMAGE_POISONED_ARROW	600
;WILD_SPIDERRIDER_BOW_DAMAGE			246 of cavalry ranged.
;ISENGARD_URUKCROSSBOW_DAMAGE			900
;GONDOR_ARCHER_DAMAGE                   450
;GONDOR_RANGER_DAMAGE					650
;ROHAN_ROHIRRIM_BOW_DAMAGE              290 of CAVALRY RANGED.
;ELVEN_LORIENARCHER_ARCHER_DAMAGE		600
;ELVEN_MIRKWOOD_ARCHER_DAMAGE			900




;------------------------ok. upgrade.ini-----------------------;
Upgrade Upgrade_MordorBarbedArrowsCowsRGreat ;;=;; Upgrade_MordorBarbedArrows needs to be renamed to anything...
	DisplayName       = CONTROLBAR:BarbedArrowUpgrade
	Type              = OBJECT
	Tooltip		= CONTROLBAR:BarbedArrowUpgrade ; ;
	BuildCost		= 300
	BuildTime		= MORDOR_PERSONAL_FIRE_ARROWS_BUILDTIME
	ResearchSound	= UpgradeForgedBlades
	UpgradeFX		= FX_PorterDeliverForgedBlades
	;RequiredObjectFilter = NONE;; +MordorTavern
	StrategicIcon	= AptStrategicUnitUpgradeArrow
End
; ;
Upgrade Upgrade_TechnologyMordorBarbedArrows
	DisplayName       = UPGRADE:MordorHeavyArmorUpgrade
	Type              = PLAYER
	BuildCost		= MORDOR_TECH_HEAVY_ARMOR_BUILDCOST
	BuildTime		= MORDOR_TECH_HEAVY_ARMOR_BUILDTIME
	ResearchCompleteEvaEvent	= UpgradeBarbedArrowsReady
End
//---------------------PlayerCreeps------------------//
Upgrade Upgrade_JustStrongEnemiesHaveThisUpgrade //bad spots
	Type			= PLAYER
End
Upgrade Upgrade_JustWeakEnemiesHaveThisUpgrade //bad spots
	Type			= PLAYER
End
//---------------------PlayerHumans------------------//
Upgrade Upgrade_AllFactionsHaveThisUpgrade
	Type			= PLAYER
End

;------------------------ok. commandbutton.ini-----------------------;
//----------------------GANNICUS COMMANDBUTTON trick---------------------;;
CommandButton Command_HaradrimArcherBarbedArrowAbility//Equipar//extremely important that horde actually goes above, otherwise the archers cannot be upgradable and shows radial icon on the horde
	Command				= OBJECT_UPGRADE
	SpecialPower			= None
	Options				= NEED_UPGRADE OK_FOR_MULTI_SELECT CANCELABLE
	Upgrade				= Upgrade_MordorBarbedArrowsCowsRGreat 
	NeededUpgrade		= Upgrade_TechnologyMordorBarbedArrows
	TextLabel			= CONTROLBAR:BarbedArrows
	ButtonImage			= UCCommon_BarbedArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyMordorBarbedArrows
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel3TavernFireArrows
End
CommandSet MordorHaradrimArcherHordeCommandSeto
	1	= Command_ToggleStance
	2	= Command_ArcherBombard
	3	= Command_HaradrimArcherBarbedArrowAbility ;;;1.06
	4	= Command_PurchaseUpgradeMordorBasicTraining
	5	= Command_PurchaseUpgradeMordorHeavyArmor
	12	= Command_CaptureBuilding
	13	= Command_AttackMove
	14	= Command_Stop
End
CommandButton Command_HaradrimArcherBarbedArrowAbility//Tecnology//THIS ONE IS visual; if it's removed it will show up the 300 cost upgrade on the level1/level2 palace//// 
	Command				= PLAYER_UPGRADE
	SpecialPower		= None
	Options				= NEED_UPGRADE CANCELABLE
	Upgrade				= Upgrade_TechnologyMordorBarbedArrows 
	NeededUpgrade		= Upgrade_MordorTavernLevel3
	TextLabel			= CONTROLBAR:PurchaseTechnologyMordorBarbedArrows
	ButtonImage			= UCCommon_BarbedArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyMordorBarbedArrows
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel3TavernFireArrows ; ;
End
CommandSet MordorTavernaCommandSetLevel1
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2 	= Command_HaradrimArcherBarbedArrowAbility ; ;
	3	= Command_PurchaseTechnologyMordorHeavyArmor ; ;2
	4	= Command_PurchaseTechnologyMordorForgedBlades ; ;3
	5	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	6	= Command_UpgradeMordorTavernLevel2	; ;5
	7	= Command_Sell ; ;6
End
CommandSet MordorTavernaCommandSetLevel2
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2 	= Command_HaradrimArcherBarbedArrowAbility ; ;
	3	= Command_PurchaseTechnologyMordorHeavyArmor ; ;2
	4	= Command_PurchaseTechnologyMordorForgedBlades ; ;3
	5	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	6	= Command_UpgradeMordorTavernLevel3; ;5
	7	= Command_Sell ; ;6
End
CommandButton Command_HaradrimArcherBarbedArrowAbility // THIS ONE MAKES EVERYTHING WORK OUT :O // INteresting: this "renews" the commandbutton and tells him upgrade is no longer necesary.
	Command				= PLAYER_UPGRADE
	SpecialPower		= None
	Options				= CANCELABLE
	Upgrade				= Upgrade_TechnologyMordorBarbedArrows 
	TextLabel			= CONTROLBAR:PurchaseTechnologyMordorBarbedArrows
	ButtonImage			= UCCommon_BarbedArrows
	ButtonBorderType	= UPGRADE
	DescriptLabel		= CONTROLBAR:ToolTipPurchaseTechnologyMordorBarbedArrows
	Radial				= Yes
	InPalantir			= Yes
	LacksPrerequisiteLabel		= TOOLTIP:LackLevel3TavernFireArrows
End
CommandSet MordorTavernaCommandSetLevel3
	1	= Command_ConstructMordorCorsairsOfUmbarHorde
	2 	= Command_HaradrimArcherBarbedArrowAbility ; ;
	3	= Command_PurchaseTechnologyMordorHeavyArmor ; ;2
	4	= Command_PurchaseTechnologyMordorForgedBlades ; ;3
	5	= Command_PurchaseTechnologyMordorFireArrows ; ;4
	7	= Command_Sell ; ;6
End
//-----------------------------men shit--------------------//
CommandButton Command_ConstructRohanArcherRange // Bfme1Structure
  Command          = FOUNDATION_CONSTRUCT
  Object           = RohanArcherRange
  TextLabel        = CONTROLBAR:ConstructRohanArcherRange
  ButtonImage      = BRArcheryRange
  ButtonBorderType = BUILD 
  DescriptLabel    = CONTROLBAR:ToolTipRohanArcherRange
  Radial           = Yes  
End
CommandButton Command_PurchaseUpgradeGondorArcheryRangeLevel2 //Bfme2upgrade
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_GondorArcheryRangeLevel2
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:ConstructGondorArcheryRangeLevel2Upgrade
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType  = UPGRADE
   DescriptLabel     = CONTROLBAR:ToolTipBuildGondorArcheryRangeLevel2Upgrade
   Radial            = Yes
   InPalantir        = Yes
End
CommandButton Command_PurchaseUpgradeGondorArcheryRangeLevel3 //Bfme2upgrade
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_GondorArcheryRangeLevel3
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:ConstructGondorArcheryRangeLevel3Upgrade
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType  = UPGRADE
   DescriptLabel     = CONTROLBAR:ToolTipBuildGondorArcheryRangeLevel3Upgrade
   Radial            = Yes
   InPalantir        = Yes
End
CommandButton Command_ConstructRohanRohirrimHorde // Bfme1Structure
	Command					= UNIT_BUILD
	Object					= RohanRohirrimHorde
	Options					= NEED_UPGRADE CANCELABLE
	NeededUpgrade			= Upgrade_GondorStableLevel2
	NeededUpgradeAny		= Yes
	TextLabel				= CONTROLBAR:ConstructRohanRohirrimHorde
	ButtonImage				= BGStables_Rohirrim
	ButtonBorderType    	= BUILD 
	DescriptLabel       	= CONTROLBAR:ToolTipBuildRohanRohirrimHorde
	Radial					= Yes
	InPalantir	   			= Yes
	ShowProductionCount		= Yes      
	LacksPrerequisiteLabel	= TOOLTIP:LackLevel2Stables
End
CommandButton Command_PurchaseUpgradeGondorStableLevel2 // bfme2upgrade
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_GondorStableLevel2
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:ConstructGondorStable2Upgrade
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType  = UPGRADE
   DescriptLabel     = CONTROLBAR:ToolTipBuildGondorStableLevel2Upgrade
   Radial            = Yes
   InPalantir        = Yes
End
CommandButton Command_PurchaseUpgradeGondorStableLevel3 // good // bfme2upgrade
   Command           = OBJECT_UPGRADE
   Upgrade           = Upgrade_GondorStableLevel3
   Options           = CANCELABLE
   TextLabel         = CONTROLBAR:ConstructGondorStableLevel3Upgrade
   ButtonImage       = UCCommon_UpgradeStructureNew
   ButtonBorderType  = UPGRADE
   DescriptLabel     = CONTROLBAR:ToolTipBuildGondorStableLevel3Upgrade
   Radial            = Yes
   InPalantir        = Yes
End
CommandButton Command_ConstructRohanStable // Good. //Bfme1Structure
	Command				= DOZER_CONSTRUCT
	Object				= RohanStable ;;=;; GondorStable
	TextLabel			= CONTROLBAR:ConstructRohanStable
	ButtonImage			= BRStables
	ButtonBorderType	= BUILD 
	DescriptLabel		= CONTROLBAR:ToolTipRohanStable ;;=;;ToolTipConstructMenStable
	Radial				= Yes
	;InPalantir	   		= Yes
End
CommandButton Command_ConstructElvenWallHubOuter // Good // WaterTower
	Command       		= DOZER_CONSTRUCT
	Object        		= RohanBaseDefenceFoundation ;;=;; MenArrowTowerExpansion
	TextLabel     		= CONTROLBAR:WaterTower ;;=;; !
	ButtonImage   		= BEWall_WallHub
	ButtonBorderType    = BUILD
	DescriptLabel       = CONTROLBAR:ToolTipConstructMordorBattleTower
	Radial				= Yes
End
CommandButton Command_MordorWallUpgradeToTower // Good // LightningTower using 09 doubled icon
	Command				= DOZER_CONSTRUCT
	Object				= MordorBaseDefenceFoundation;;=;;MordorBattleTower
	TextLabel			= CONTROLBAR:LightningTower;;=;;CONTROLBAR:ConstructMordorBattleTower
	ButtonImage			= BMBattleTower
	ButtonBorderType	= BUILD 
	DescriptLabel		= CONTROLBAR:ToolTipConstructMordorBattleTower
	Radial				= Yes
End
;------------------ok. attributemodifier.ini-----------------------;
		//---------------------PlayerHumans------------------//
ModifierList BridgeRangeBonusModifier
	FX	= FX_FarSeeingLeadership
	Category = FORMATION
	Modifier = DAMAGE_MULT 120%
    Modifier = RANGE 30%
   	Modifier = VISION 150%
	Duration = 3000
End
ModifierList BetaAtributesForTesting ;;=;; 
	;;Modifier = SPEED 150%
	;;Modifier = EXPERIENCE 900% // 300%
	Modifier = PRODUCTION 150% ;;=;;2000% // 1000%
	;;Modifier = RECHARGE_TIME 1000%
	Duration = 3000
End
		//---------------------PlayerCreeps------------------//
ModifierList CreepsConditionalyStrongerBonus //TESTED. WORKS
	Category = LEVEL
	Modifier = HEALTH_MULT 150%
;	Modifier = SPEED 150% ;;/just to test
	Duration = 0
End
ModifierList CreepsConditionalyWeakerBonus
	Category = LEVEL
	Modifier = HEALTH_MULT 66%
;	Modifier = SPEED 50%//JUST TO test
	Duration = 0
End
		//---------------------LeadershipSys------------------//
ModifierList GenericArmorLeadershipWithExperience ;;=;; Totem and Drummer
	Category					= BUFF
	Modifier					= DAMAGE_MULT 125%
	Modifier					= EXPERIENCE 125%
	Duration					= 3000
	FX							= FX_GenericArmorLeadership ; ;FX_GenericLeadership
	ReplaceInCategoryIfLongest	= Yes
	IgnoreIfAnticategoryActive	= Yes
End
		//---------------------WarheadsBalance------------------//
ModifierList BunitosMordorOrcsDesign ;;=; since i can't change warheads
	Category = LEVEL
	Modifier = DAMAGE_MULT 125%
	Modifier = RANGE 20%
   	Modifier = VISION 20%
	Duration = 0
End
ModifierList BunitosCrossbowmenDesign
	Category = LEVEL
	Modifier = RANGE 33%
   	Modifier = VISION 33%
	Duration = 0
End
ModifierList BunitosGobArcherDesign
	Category = LEVEL
	Modifier = RANGE 110%
   	Modifier = VISION 110%
	Modifier = DAMAGE_MULT 110%
	Duration = 0
End
ModifierList FaramirStronkAM ;;=; since i can't change warheads
	Modifier = DAMAGE_MULT 185% ;;=;; 200%
	Modifier = RECHARGE_TIME 75%
	Modifier = SPEED 140% ;;=;;
	Duration = 0
End
		//---------------------ModifiersNuggets------------------//
ModifierList WaterCrushSlowsYouDown
	Category					= DEBUFF
	Modifier 					= SPEED 80% ;;=;; I want frozen arrows to be 50%
	;;As higher, shittier.
	;FX							= FX_ShelobPoisonStingerStrike
	Duration					= 2000
	;;=NOpe, stack bro;=;;ReplaceInCategoryIfLongest	= Yes
End
ModifierList IceFreez
	Category					= DEBUFF
	Modifier 					= SPEED 50% ;;=;; I want frozen arrows to be 50%
	;;As higher, shittier.
	FX							= FX_ElrondHealSpecialPower;;FX_GoblinKingPoisonedStingerHit ;;;  FX_ShelobPoisonStingerStrike
	Duration					= 10000
	;;=NOpe, stack bro;=;;ReplaceInCategoryIfLongest	= Yes
End
ModifierList PoisonSlowsYouABit
	Category					= DEBUFF
	Modifier 					= SPEED 60% ;;=;; I want frozen arrows to be 50%
	;;As higher, shittier.
	FX							= FX_PoisonedStunEffect;;FX_ElrondHealSpecialPower ;;;  FX_ShelobPoisonStingerStrike
	Duration					= 10000
	;;=NOpe, stack bro;=;;ReplaceInCategoryIfLongest	= Yes
End

;------------------ok. experiencelevels.ini-----------------;
    
ExperienceLevel    RohanStablesLevel2
    Upgrades                = NONE;Upgrade_GondorStableLevel2
End
    
ExperienceLevel    RohanStablesLevel3
   Upgrades                = NONE;Upgrade_GondorStableLevel3
End

;------------------ok. commandset.ini-----------------------;
CommandSet DwarvenMenOfDaleHordeCommandSet
	1 	= Command_ToggleStance
	2	= Command_ArcherBombard
	3 	= Command_BlackArrows
	4 	= Command_PurchaseUpgradeDwarvenMithrilMail
	5 	= Command_PurchaseUpgradeDwarvenFireArrows
	6 	= Command_PurchaseUpgradeDwarvenBasicTraining
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End

//----------------

CommandSet RohanArcheryRangeCommandSet
	1 = Command_ConstructRohanArcherHorde
	2 = Command_ConstructGondorRangerHorde
	3 = Command_PurchaseTechnologyGondorFireArrows
	5 = Command_PurchaseUpgradeGondorArcheryRangeLevel2
	6 = Command_Sell
End
//----------------

CommandSet RohanStableCommandSet
	1	 = Command_ConstructRohanRohirrimHorde
	5	 = Command_PurchaseUpgradeGondorStableLevel2
	6	 = Command_Sell
End

CommandSet RohanStableCommandSetLevel2
	1	 = Command_ConstructRohanRohirrimHorde
	5	 = Command_PurchaseUpgradeGondorStableLevel3
	6	 = Command_Sell
End

CommandSet RohanStableCommandSetLevel3
	1	 = Command_ConstructRohanRohirrimHorde
	6	 = Command_Sell
End

//----------------

CommandSet MenPorterCommandSet2
   1  = Command_Stop
   2  = Command_PorterExtinguishFire
;;=;;   3  = Command_PorterConstructMenFarm
;;=;;   4  = Command_PorterConstructMenBarracks
   5  = Command_PorterConstructMenArcheryRange
   6  = Command_ConstructRohanStable ;;=;; Command_PorterConstructMenStable
   7  = Command_PorterConstructMenWorkshop
   8  = Command_PorterConstructMenSentryTower
   9  = Command_PorterConstructMenWell
   10 = Command_PorterConstructMenStatue
   11 = Command_PorterConstructMenBlacksmith
   12 = Command_PorterConstructMenMarketPlace
;;=;;   13 = Command_PorterConstructMenWallHubOuter ; ;Command_PorterConstructMenWallHub
   14 = Command_PorterConstructMenFortress
End

CommandSet DwarvenPorterCommandSet2
   1  = Command_Stop
   2  = Command_PorterExtinguishFire
   4  = Command_ConstructDwarvenMineShaft
   5  =	Command_ConstructDwarvenBarracks
   6  = Command_ConstructDwarvenArcheryRange
   7  = Command_ConstructDwarvenForgeWorks
   8  = Command_ConstructDwarvenSentryTower
   9  =	Command_ConstructDwarvenHearth
   10  = Command_ConstructDwarvenStatue
   11 = Command_ConstructDwarvenWallHub
   12 =	Command_PorterConstructDwarvenFortress 
End

CommandSet ElvenPorterCommandSet2
   1  = Command_Stop
   2  = Command_PorterExtinguishFire
;;=;;   3  = Command_ConstructElvenMallornTree
   4  =	Command_ConstructElvenBarracks
;;=;;   5  = Command_ConstructElvenGreenPasture
;;=;;   6  =	Command_ConstructElvenEntMoot
   7  = Command_ConstructElvenStatue
   8  =	Command_ConstructElvenWatchTower
;;=;;   9  = Command_ConstructElvenMirrorOfGaladriel   
   10 = Command_ConstructEregionForge
   11 =	Command_ConstructElvenWallHubOuter ;;=;; !
   12 = Command_ConstructElvenFortress
End		

CommandSet WildPorterCommandSet2
    1  = Command_Stop
	2  = Command_PorterExtinguishFire
	3  = Command_PorterConstructWildMineShaft
;;=;;	4  = Command_PorterConstructWildLumberMill
	5  = Command_PorterConstructWildCave
	6  = Command_PorterConstructWildSpiderPit
	7  = Command_PorterConstructWildFissure  
	8  = Command_PorterConstructWildSentryTower
	9  = Command_PorterConstructWildTreasureTrove
	10 = Command_PorterConstructWildFortress
End

CommandSet IsengardPorterCommandSet2
	1  = Command_Stop
	2  = Command_PorterExtinguishFire
;;=;;	3  = Command_PorterConstructIsengardFurnace
	4  = Command_PorterConstructIsengardLumberMill
	5  = Command_PorterConstructIsengardUrukPit
;;=;;		6  = Command_PorterConstructIsengardWargPit
	7  = Command_PorterConstructIsengardSiegeWorks
	8  = Command_PorterConstructIsengardBattleTower
	9  = Command_MordorWallUpgradeToTower ;;=;; Command_PorterConstructIsengardWargSentry
	10 = Command_PorterConstructIsengardArmory
;;=;;	11 = Command_PorterConstructIsengardWallHubOuter
	12 = Command_PorterConstructIsengardFortress 
End


CommandSet MordorPorterCommandSet2
	1  = Command_Stop
	2  = Command_PorterExtinguishFire
;;=;;	3  = Command_PorterConstructMordorSlaughterHouse
	4  = Command_PorterConstructMordorLumberMill
	5  = Command_PorterConstructMordorOrcPit
	6  = Command_PorterConstructMordorHaradrimPalace
;;=;;	7  = Command_PorterConstructMordorTrollCage
;;=;;	8  = Command_PorterConstructMordorSiegeWorks
;;=;;	9  = Command_PorterConstructMumakilPen
	10 = Command_ConstructMordorTavern
	11 = Command_PorterconstructMordorBattleTower
;;=;;	12 = Command_PorterConstructMordorWallHubOuter ;;=;; 
	13 = Command_PorterConstructMordorFortress
//  10  = Command_ConstructMordorOrcFletcher
//  11  = Command_ConstructMordorUmbarTavern
//  12  = Command_ConstructMordorBarracks 
End

//----------------------------oldshit----------------------------//
CommandSet GondorFaramirCommandSet2
	1	= Command_ToggleStance	;;=;;
	2	= Command_ToggleFaramirWeapon	;;=;;
	3	= Command_SpecialAbilityWoundArrow	;;=;;
	4	= Command_ToggleMounted	;;=;;
	5	= Command_SpecialAbilityBoromirForGondor	;;=;;
	6	= Command_SpecialAbilityCaptainOfGondor	;;=;;
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
End

CommandSet CommandSetInnPlayer2
	1	= Command_ConstructInnElvenHobbitShirrif
	2	= Command_ConstructInnDwarvenMenOfDaleHorde
;	3	= Command_ConstructRohanElvenWarriorHorde
	4	= Command_StartSelfRepair
End	

CommandSet CommandSetInnPlayer1
;	1	= Command_ConstructInnElvenHobbitShirrif
	1	= Command_ConstructInnGondorRangerHorde
	2	= Command_ConstructRohanElvenWarriorHorde
	4	= Command_StartSelfRepair
End	
CommandSet ElvenWatchTowerCommandSet2
	1 = Command_PurchaseUpgradeElvenSilverthornTowerArrows
	2 = Command_ExitGarrison
	3 = Command_ExitGarrison
	6 = Command_Sell
End


;;-------------------------------------------------Weapon.ini----------------------;;

Weapon HaradrimBarbedArrow // BALANCE Archer Weapon ;orc archer
  AttackRange 			= MORDOR_HARADRIM_BOW_RANGE   // Horde member so it needs to be bigger than the horde weapon attack range.
  LeechRangeWeapon      = Yes
  WeaponSpeed 			= 351 ; ;401			// dist/sec 
  MinWeaponSpeed 		= 121
  MaxWeaponSpeed 		= 501 ; ;601			// dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX 				= FX_HaradrimArcherBowBarbedWeapon				;FX_RohanArcherBowWeapon	;audio only
  ScaleWeaponSpeed	 	= Yes			// Used for lob weapons, scales speed proportional to range
  HitPercentage     	= 100			//When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius     	= 40.0			//When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots 	= MORDOR_HARADRIM_BOW_DELAYBETWEENSHOTS
  PreAttackDelay        = MORDOR_HARADRIM_BOW_BARBEDARROWS_PREATTACKDELAY
  PreAttackRandomAmount = 200 
  PreAttackType         = PER_SHOT		// Do the delay each time we attack a new target
  FiringDuration      	= MORDOR_HARADRIM_BOW_FIRINGDURATION     // Duration of the archer firing shot is 500ms.  

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName    = BarbedArrowProjectile
    WarheadTemplateName       = HaradrimBarbedArrowWarhead
  End
End
//-------------------LIGHTNING TOWER-----------------------//
Weapon DwarvenBattleWagonPassengerPikeUpgraded
	AttackRange               	= 700 ;;;;;;;//=THIS IS IMPORTANT&///
	WeaponSpeed               	= 321       ;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	AcceptableAimDelta			= 180
	FireFX						= FX_WizardTowerClouds
	HitPercentage             	= 100		;//When this weapon is used it will hit exactly 50% of the time.	
	DelayBetweenShots         	= Min:100 Max:6000 //=THIS IS IMPORTANT&///
	PreAttackDelay            	= 1;;3000
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= 500
	CanBeDodged					= No
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
	ProjectileNugget
		ProjectileTemplateName    = BattleWagonArrow
		WarheadTemplateName     = DwarvenBattleWagonPassengerPikeWarheadUpgraded
	End
End
Weapon LightningTowerWarhead //a WizardTowerWarHead nerfed.

	ProjectileCollidesWith	= MONSTERS	STRUCTURES ENEMIES NEUTRAL// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES ALLIES NOT_SIMILAR

	// A Nugget that throws things back with force
	MetaImpactNugget                    ;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 70;;=;;150.0
		ShockWaveRadius		= 30
		ShockWaveTaperOff	= 0.2
		ShockWaveZMult		= 1.30 ;;=;; 1.50		
;;=;;		KillObjectFilter	= INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
	End
;;=;;;	FireLogicNugget 
;;=;;		LogicType	=	INCREASE_BURN_RATE
;;=;;		Radius		=	30
;;=;;		Damage		=	10
;;=;;	End
	DamageNugget                        
		Damage        		= 100
		Radius				= 30
		DamageType    		= FLAME
		DamageFXType  		= BOLT
		DeathType     		= NORMAL //BURNED
	End
	DamageNugget                        
		Damage        		= 300
		Radius				= 30
		DamageType    		= MAGIC
		DamageFXType  		= BOLT
		DeathType     		= NORMAL //BURNED
	End
End

//-------------------WATER TOWER-----------------------//

Weapon LadyOfLight
  AttackRange               = 250
  MinimumAttackRange		= 75
  MinWeaponSpeed            = 191
  MaxWeaponSpeed            = 481;;		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 4000;;7000

  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.
	NoVictimNeeded		= Yes
  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = LadyOfLightProjectile
    WarheadTemplateName = LadyOfLightWarhead
  End
End
Weapon Waterboombbom //LadyOfLightWarhead
  ;AimDirection			= 90 ;;270 ;;;315 ; ;270		; In order to aim at something, we aim this far off (to the right would be aiming at 270 degrees).
  AttackRange               = 100 ;;150 ;;; 350 ;;=;; ELVEN_FLOODGATEEXPANSION_RANGE    
  HitPercentage             = 100										;//When this weapon is used it will hit exactly 50% of the time.    
  PreAttackDelay            = 1 ;;=;; 1000 ;;=;; 2000 ;;;  ELVEN_FLOODGATEEXPANSION_PREATTACKDELAY   ;//prep time for the unit/structure to fire.
  PreAttackType             = PER_POSITION;;SHOT									;//Do the delay each time we attack a new target
  FiringDuration            = 50;;ELVEN_FLOODGATEEXPANSION_FIRINGDURATION
  AcceptableAimDelta		= 180 ;; 45 ;;; 180 ;;=;; 90 ;;=;; 180.0										;//We want to be able to shoot all round, as we cant move.   //but this statue tower object is looking to the left ffs.
;;NO WE DONT //but we use a different objet now
;we don't want to waste horses if an enemy is found in a 360ยบ circle. as we only attack to one position only
	NoVictimNeeded		= Yes
  DelayBetweenShots         = 1000 ;;=;; 10000 ELVEN_FLOODGATEEXPANSION_DELAYBETWEENSHOTS

	DamageNugget
		Damage = 10
		Radius = 80;;50
		;DelayTime = 50
		DamageType = SIEGE
		DamageFXType = FLOOD_HORSE ;;;FIRE3(it's like the balrog fx but slightly green. 2short4poison) ;;; TORNADO(looks ciclonic) ;;BALROG_WHIP(looks electric yellow);;BALROG_SWORD(orange splash) ;;GOOD_ARROW_PIERCE
		DeathType = EXPLODED ;;NORMAL
		DamageArc = 45
	End
End
	
Weapon LorienElvenBow     ; BALANCE Lorien Archer weapon
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_RANGE
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .01 )
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time
	ScatterRadius       = 0.0 ; ;16.0     ;When this weapon misses it can randomly miss by as much as this distance. 
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = 466 ; ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY    
	PreAttackRandomAmount     = 66 ;100   
	PreAttackType       = PER_SHOT
	FiringDuration      = 0
	OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	OverrideVoiceEnterStateAttackSound	= ElvenWarriorVoiceEnterStateAttackBow
	;OverrideVoiceAttackAirSound		= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackStructureSound	= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackMachineSound	= ElvenWarriorVoiceAttackBow
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 0 ;1	
	ClipReloadTime		= 766 ; ; Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes
End
Weapon MirkwoodArcherBow
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_RANGE
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ELVEN_MIRKWOOD_ARCHER_RANGE .01 )
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ELVEN_MIRKWOOD_ARCHER_BOW_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MIN Max:ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ELVEN_MIRKWOOD_ARCHER_BOW_RELOADTIME_MAX 
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes
End
;--------------------------------------------------------------------

;Object MordorBattleTower
;BuildCost = 350
;BuildTime = 15
;Scale = 0.75
;End
Object MordorHaradrimPalace
	BuildTime = 15
End
Object MordorOrcPit
	BuildTime = 15
End
Object MordorArcherHorde
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosMordorOrcsDesign
	End
	End
End
Object MordorArcher
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosMordorOrcsDesign
	End
	End
End
Object IsengardUrukCrossbowHorde
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosCrossbowmenDesign
	End
	End
End
Object IsengardUrukCrossbow
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosCrossbowmenDesign
	End
	End
End
Object GoblinArcher
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosGobArcherDesign
	End
	End
End
Object GoblinArcherHorde
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosGobArcherDesign
	End
	End
End

Object IsengardBattleTower
BuildCost = 350
BuildTime = 15
End
Object IsengardUrukPit
BuildTime = 15
End
;------------------------------------------------------------------------------


;------------------------------------------------------------------------------

Object GondorArcherRange
BuildTime = 15
End
Object GondorBattleTower
BuildCost = 350
BuildTime = 15
End
Weapon GondorArcherBow  
	AttackRange         = GONDOR_ARCHER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( GONDOR_ARCHER_RANGE .01 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = GONDOR_ARCHER_BOW_PREATTACKDELAY   
	PreAttackRandomAmount     = 40 ; ;200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GONDOR_ARCHER_BOW_RELOADTIME_MIN Max:GONDOR_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_ARCHER_BOW_RELOADTIME_MAX  
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
End
Weapon RohanRohirrimBow       ; BALANCE Archer Weapon
  AttackRange               = ROHAN_HORSEBOW_RANGE
  
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( ROHAN_HORSEBOW_RANGE .01 )
  WeaponSpeed               = 321         ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100     ;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
  
  PreAttackDelay            = 700
  PreAttackType             = PER_SHOT  ; Do the delay each time we attack a new target
  PreAttackRandomAmount     = 200 
  FiringDuration            = 1500		; Duration of the archer firing shot is 1000ms.
  RequireFollowThru			= Yes

  ClipSize 					= 1
  AutoReloadsClip 			= Yes
  ClipReloadTime 			= 1500

  IsAimingWeapon            = Yes
  AntiAirborneVehicle	    = Yes
  AntiAirborneMonster	    = Yes

; CanFireWhileMoving	    = Yes
; CanFireWhileCharging	    = Yes


  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

  HitPassengerPercentage    = 20%
End


Object DwarvenSiegeWorks
  BuildCost           = 400
  BuildTime           = 5
End
Object DwarvenArcheryRange
BuildCost = 300
BuildTime = 15
End
Object DwarvenSentryTower
BuildCost = 350
BuildTime = 15
End
Object DwarvenAxeThrowerHorde
	LocomotorSet
		Locomotor     = NormalChargeMeleeHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = 66
	End
BuildCost	= 200
BuildTime	= 5
End

Object DwarvenAxeThrower
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 67
	End
End

Object DwarvenMenOfDaleHorde
	ReplaceModule ModuleTag_BlackArrowsWeaponFireUpdate
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_BlackArrowsWeaponFireUpdate2
		SpecialPowerTemplate		= SpecialAbilityBlackArrows
		; this has to be longer than the weapon firing time on the members or
		; else the horde will fire its regular weapon and blow away the members' ai.
		PackTime					= 500 ;;=;; 1500 ;;=;; 2000 
		StartAbilityRange			= 400
		SpecialWeapon				= DwarvenMenOfDaleBlackArrowsRangeFinder
		ApproachUntilMembersInRange	= Yes
		TriggerSound				= YeomanArcherVoiceAttackCharge
	End
	End
	LocomotorSet
		Locomotor     = NormalRangedHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = 66
	End
	ReplaceModule ModuleTag_HordeAIUpdate
	Behavior = HordeAIUpdate ModuleTag_HordeAIUpdate2
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			= 600 ;;=;; 500
		MaxCowerTime				= 5000
		MinCowerTime				= 3000
		CanAttackWhileContained		= Yes  ; Can fire out of garrisoned building	
        AILuaEventsList				= InfantryFunctions  
        AttackPriority				=  AttackPriority_Archer      
	End
	End
End
;;------------------------------------

				;;----------factionsubobjects.ini----;;
				//----------GOLDEN ARROW----------;;
Object HaldirGoldenArrowProjectile
	RemoveModule ModuleTag_GoldenArrow
	
	ReplaceModule ModuleTag_04
		Behavior = BezierProjectileBehavior ModuleTag_04123
		DetonateCallsKill = Yes
		FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 9
		FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 90%
		FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
		GroundHitFX = FX_GondorArrowDeath
		CurveFlattenMinDist = 100.0
	End
	End
End

				//----------WATERTOWER----------;;
Object LadyOfLightProjectile

    ReplaceModule ModuleTag_0432
  Behavior = BezierProjectileBehavior ModuleTag_04221
    
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 100%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    DetonateCallsKill = Yes
    CurveFlattenMinDist = 50.0
  End
  End
	AddModule
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_GimliEffecto
		StartsActive = Yes
		DeathWeapon = Waterboombbom
	End
	End

	RemoveModule ModuleTag_Draw12
	
	
	AddModule
	  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = None
	End

;	AnimationState            = DEBUG       ;shift delete to trigger
;		Animation
;			AnimationName     = GPFlood.GPFlood
;			AnimationMode     = LOOP
;		End
;	End

	IdleAnimationState
      Animation
        AnimationName       = GPFlood.GPFlood      
        AnimationMode       = ONCE		 
      End
	    ParticleSysBone     = WaterBone01 WaterSplashCont FollowBone:Yes 
		ParticleSysBone     = WaterBone02 WaterSplashCont FollowBone:Yes
		ParticleSysBone     = WaterBone03 WaterSplashCont FollowBone:Yes
		ParticleSysBone     = WaterBone04 WaterSplashCont1 FollowBone:Yes 
		ParticleSysBone     = WaterBone05 WaterSplashCont1 FollowBone:Yes
		ParticleSysBone     = WaterBone06 WaterSplashCont1 FollowBone:Yes
		
		ParticleSysBone     = WaterBone04 WaterRipplesDelayed FollowBone:Yes
		ParticleSysBone     = WaterBone05 WaterRipplesDelayed FollowBone:Yes
		ParticleSysBone     = WaterBone06 WaterRipplesDelayed FollowBone:Yes

		ParticleSysBone     = WaterBone07 WaterRipplesMedium FollowBone:Yes 
		ParticleSysBone     = WaterBone08 WaterRipplesMedium FollowBone:Yes
		ParticleSysBone     = WaterBone09 WaterRipplesMedium FollowBone:Yes

		ParticleSysBone     = WaterBone01 WaterSplashBig FollowBone:Yes
		ParticleSysBone     = WaterBone02 WaterSplashBig FollowBone:Yes
		ParticleSysBone     = WaterBone03 WaterSplashBig FollowBone:Yes	
        End
     End
	 End
End
				//----------THRANDUIL DEAD EYE----------;;
Object GoodFactionArrowDeadeye
  ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_Draw1
    DefaultModelConditionState     
		Model = NONE
		ParticleSysBone = NONE ThranDeadeyeArrow1 FOLLOWBONE:YES    ;
		ParticleSysBone = NONE ThranDeadeyeArrow2 FOLLOWBONE:YES    ;
		ParticleSysBone = NONE ThranDeadeyeArrow3 FOLLOWBONE:YES    ;
    End
  End
  End
  ReplaceModule ModuleTag_Draw2
  Draw = W3DStreakDraw ModuleTag_Draw22
	Length		= 30 ; 130
	Width		= 4
	NumSegments	= 2			; number of segements in the streak, increase for smoother line
	Color		= R:52 G:98 B:254 0 ; ; R:55 G:160 B:255
	Additive	= Yes
	Texture		= EXLightStreaks2.tga ; ; EXArrowStreak01.tga
	WeatherTexture = SNOWY EXArrowStreak_Snow.tga
  End
  End

 ReplaceModule ModuleTag_04
 Behavior = BezierProjectileBehavior ModuleTag_041
    ; To tweak a Bezier path
  ;  DetonateCallsKill = Yes
    FirstHeight = 7  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 7
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_ElectricityHit ; ; FX_GondorArrowDeath
    CurveFlattenMinDist = 100.0
  End
  End
End
				//----------THROWERS AXE----------;;
Object DwarvenAxeForgedBlade
	AddModule
		Behavior = FireWeaponWhenDeadBehavior ModuleTag_GimliEffecto
		StartsActive = Yes
		DeathWeapon = DwarvenAxeThrowWarhead
		End
	End
;
  KindOf = PROJECTILE
  ReplaceModule ModuleTag_Draw
	Draw = W3DScriptedModelDraw ModuleTag_Draw1
		DefaultModelConditionState     
		Model = Axe_proj_FB
			ParticleSysBone = Tracer1 GimliThrownAxeTrail
			ParticleSysBone = Tracer2 GimliThrownAxeTrail
		End
		IdleAnimationState
			Animation				= IDLE
				AnimationName       = Axe_proj_FB.Axe_proj_FB
				AnimationMode       = LOOP
			End
		End
	End
  End

 ReplaceModule ModuleTag_04
 Behavior = BezierProjectileBehavior ModuleTag_041
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 50% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50
   GroundHitFX = FX_GimliAxeProjectileHit 
	DetonateCallsKill = Yes
    CurveFlattenMinDist = 60.0
  End
  End
;;creo q esto los hace moco en el suelo, pero la laguea mucho. terminan cayendo muertos todos al mismo tiempo
;	AddModule
;	Behavior = PhysicsBehavior ModuleTag_05
;		KillWhenRestingOnGround = Yes
;		GravityMult = 0.0
;	End
;	End
;
	AddModule
	Behavior = FXListDie ModuleTag_07
		DeathTypes = ALL
		DeathFX = FX_GimliAxeProjectileHit
	End
	End
End
				//----------LIGHTNING ARROW----------;;
Object BattleWagonArrow
  KindOf = PROJECTILE
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0
	AddModule
  	Behavior = FireWeaponWhenDeadBehavior ModuleTag_Yolo
    		StartsActive = Yes
    		DeathWeapon = LightningTowerWarhead;;=;;WizardTowerWarHead 
  	End
  	End
    ReplaceModule ModuleTag_04
  Behavior = BezierProjectileBehavior ModuleTag_0422
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 100%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    DetonateCallsKill = Yes
    CurveFlattenMinDist = 50.0
  End
  End
  AddModule
  Behavior = PhysicsBehavior ModuleTag_05
    KillWhenRestingOnGround = Yes
    GravityMult = 0.0
  End
	End
  AddModule
  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL
    DeathFX = FX_WizardTowerBoltWeapon
  End
	End
  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 0.8
End

				//----------POISON ARROW----------;;
Object PoisonArrowProjectile
	AddModule 
	Draw = W3DScriptedModelDraw ModuleTag_Draw2912
		DefaultModelConditionState     
			Model = NONE
			ParticleSysBone = NONE PoisonedArrowTrail Followbone:YES ;;=;;

		End
    End
	End
	SoundAmbient = PoisonBlades
    ReplaceModule ModuleTag_04
  Behavior = BezierProjectileBehavior ModuleTag_042
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_GoblinKingPoisonedStingerHit	;FX_PoisonArrowDeath
    CurveFlattenMinDist = 100.0
    DetonateCallsKill = Yes
  End
	End
		AddModule
  	Behavior = FireWeaponWhenDeadBehavior ModuleTag_Yolo
    		StartsActive = Yes
    		DeathWeapon = PoisonSplash
  	End
  	End
End
				//----------ICE ARROW----------;;
Object BlackArrowsProjectile
	RemoveModule ModuleTag_Draw
	AddModule
  Draw = W3DScriptedModelDraw ModuleTag_Draw123123123
    DefaultModelConditionState     
      Model = None ;;EXBlack_AROW
      ParticleSysBone = NONE BlackArrowTrail1 ;FOLLOWBONE:YES
    ;  ParticleSysBone = NONE SpearContrailThin ;FOLLOWBONE:YES
      ParticleSysBone = NONE SpearFlameTrail ;FOLLOWBONE:YES
    End
  End
  End
	ReplaceModule ModuleTag_Draw2
  Draw = W3DStreakDraw ModuleTag_Draw2123123
	Length		= 150
	Width		= 0.5
	NumSegments	= 2			; number of segements in the streak, increase for smoother line
	Color		= R:255 G:255 B:255
	Additive	= No					; Yes by default
	Texture		= EXArrowStreak_Snow.tga
	WeatherTexture = SNOWY EXArrowStreak_Snow.tga
  End
  End
    ReplaceModule ModuleTag_04
	Behavior = BezierProjectileBehavior ModuleTag_04123
    ; To tweak a Bezier path
    DetonateCallsKill = Yes
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_WoundingArrowHit ;;FX_GondorArrowDeath
    CurveFlattenMinDist = 100.0
  End
  End
	AddModule
  	Behavior = FireWeaponWhenDeadBehavior ModuleTag_Yolo
    		StartsActive = Yes
    		DeathWeapon = IceSplash
  	End
  	End
End
				//----------FIRE CANON----------;;
Object DwarvenCatapultFlamingShotProjectile
	RemoveModule ModuleTag_Draw
	AddModule
	;;""this is from DwarvenCatapultFlamingShotProjectileMith
	  Draw = W3DScriptedModelDraw ModuleTag_DrawNew
   DefaultModelConditionState  
      Model               = EXCatRock02
		ParticleSysBone     = None FlamingRockStart
		ParticleSysBone     = None FlamingRockTrailLenzflareMithril
		ParticleSysBone     = None FlamingRockTrailSmoke
		ParticleSysBone     = None GPUMithrilCatapultFire
       Shadow			= SHADOW_ADDITIVE_DECAL
	   ShadowSizeX		= 150
	   ShadowSizeY		= 150
	   ShadowTexture	= MUCatapultFP03
       ShadowMaxHeight   = 200
       ShadowOverrideLODVisibility = yes
    End
     IdleAnimationState
      Animation              = EXCatRock02
        AnimationName        = EXCatRock02.EXCatRock02
        AnimationMode        = LOOP
      End
    End
  End
  End
  ;;""end""
    ReplaceModule ModuleTag_05
  Behavior = BezierProjectileBehavior ModuleTag_05123
    DetonateCallsKill = Yes
    
    FirstHeight = 30 ;;=;; 53;40  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 20 ;;=;; 53
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90% ;;=;; 80%
    FlightPathAdjustDistPerSecond   = 50 ;;=;; 0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
  ;  PreLandingStateTime = 1000
  ;  PreLandingEmotion = DOOM
   ; PreLandingEmotionRadius = 20.0
   ; InvisibleFrames = 100;
	;FadeInTime = 100;
		CurveFlattenMinDist			= 100.0
	End
	End
    ReplaceModule ModuleTag_08
  Behavior = FXListDie ModuleTag_082
    DeathTypes = ALL
    DeathFX = FX_DwarvenCatapultFlamingProjectileMith
  End
  End
End




Object RivBellTower

	CommandSet = SellableCommandSet
	ReplaceModule ModuleTag_SoWeCanUseWeapon
	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon123
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate			= 650
	End
	End
	WeaponSet
		Weapon				= PRIMARY HaldirGoldenArrow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End 
End
Weapon HaldirGoldenArrow
	AttackRange               = 700
	WeaponSpeed               = 321       ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.
	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
End


				;;----------ICE ARROW----;;
FXParticleSystem SpearContrailThin
  System
    Priority = MEDIUM_OR_ABOVE
    Type = STREAK
    ParticleName = EXContrail.tga
    Lifetime = 7 7
    SortLevel = 1
    Size = 1 2
    BurstCount = 1 1
    InitialDelay = 1 1
  End
  Color = DefaultColor
    Color1 = R:158 G:255 B:255 0 ;;=;; R:221 G:217 B:32 0
    Color2 = R:0 G:0 B:0 7
    Color4 = R:32 G:32 B:32 0
  End
  Alpha = DefaultAlpha
  End
  Update = DefaultUpdate
    SizeRate = -0.3 -0.3
    SizeRateDamping = 0.85 0.9
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.93 0.94
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:7 Y:0 Z:0
    EndPoint = X:8 Y:0 Z:0
  End
  Draw = StreakDraw
  End
End
FXParticleSystem SpearFlameTrail
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXspearhead.tga
    Lifetime = 25 25 ;; 50 50
    SortLevel = 1
    Size = 30 30 ;;; 40 40
    BurstCount = 2 2
    IsGroundAligned = Yes
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:158 G:255 B:255 0 ;;=;; R:81 G:58 B:28 0
    Color2 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
  End
  Update = DefaultUpdate
    SizeRateDamping = 0.8 0.9
    AngleZ = -2 2
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End
FXParticleSystem BlackArrowTrail1
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXspearheadA.tga
    Lifetime = 30 30 ;;=;; 15 15
    SortLevel = 1
    Size = 30 30 ;;=;; 15 15
    BurstCount = 2 2
    IsGroundAligned = Yes
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:158 G:255 B:255 0 ;;=;; R:81 G:58 B:28 0
    Color2 = R:0 G:0 B:0 10
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.25 0.25 0
    Alpha2 = 0 0 15
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = 0 2
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:-5 Y:0 Z:0
    EndPoint = X:-5 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End
Weapon IceSplash
	ProjectileCollidesWith	= MONSTERS	STRUCTURES ENEMIES NEUTRAL// Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES NEUTRALS 
	DamageNugget
		Damage        = 50
		AcceptDamageAdd = Yes
		Radius        = 15
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = EXPLODED
	End
	AttributeModifierNugget
		AttributeModifier	= IceFreez
		Radius					 = 25
		DamageFXType             = FLAME 
	End
End





Object RivGTower
	WeaponSet
		Weapon				= PRIMARY DwarvenMenOfDaleBlackArrows
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End 		
	AddModule
		Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon123
			AutoAcquireEnemiesWhenIdle	= Yes
			MoodAttackCheckRate			= 650 ;;=;; 250
		End
	End
	VoiceSelect			= IsengardKeepSelect	
	CampnessValue = CAMPNESS_DEFENSIVE_TOWER
	CommandSet = SellableCommandSet
	SelectPortrait = BPISentryTwr
	ButtonImage = BISentryTwr
	ThreatLevel 		= 11.0
	IsTrainable			= No
	DisplayName         = SCRIPT:BlackArrowTower
	EditorSorting       = STRUCTURE
	BuildCost           = SENTRY_TOWER_COST
	BuildTime           = SENTRY_TOWER_BUILDTIME	; in seconds
	VisionRange         = VISION_BASE_DEFENSE
	ShroudClearingRange = SHROUD_CLEAR_BASE_DEFENSE	
	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
	
	AddModule
	Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 89
	End
	End
	
	AddModule
	Behavior            = GettingBuiltBehavior ModuleTag_04
		WorkerName		  = MordorWorkerNoSelect
	End
	End
	
End


Weapon DwarvenMenOfDaleBlackArrows
  AttackRange             	= 700
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.
  CanBeDodged = Yes 
End
				
				;,----------FIRE-------------;;
Object DwarvenFortressMightyCatapult ;; EvilSentryTower
	ReplaceModule ModuleTag_03 ;; ModuleTag_SoWeCanUseWeapon
	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon123
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate			= 650 ;;=;; 250
	End
	End
	WeaponSet
		Weapon				= PRIMARY DwarvenIronHillsCatapultFlamingShot ;; DwarvenMightyCatapultRock ;;  ;;=;; EvilStructureBow 
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End 
End

Weapon DwarvenIronHillsCatapultFlamingShot ;; DwarvenMightyCatapultRock ;; 
  AttackRange               = 400
	;WeaponSpeed               = 321       ; dist/sec 
	;MinWeaponSpeed            = 241
	;MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	
	
	;this from ballista
	WeaponSpeed = 401 ;;=;; 481 ; ;401         ; dist/sec 
	MinWeaponSpeed = 401 ;;=;; 481 ; ;401
	
	
  FireFX                    = FX_DwarvenCatapultWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 32.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:1000 Max:1500 ;;=;; 5-10
  PreAttackDelay            = 50 ;;=;; 800 KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = 1000 ;;=;; 3000 KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180	; We want to be able to shoot all round, as we canit move.
  FXTrigger				= CATAPULT_ROCK
  CanBeDodged = Yes
End

				;-----------POISON-----------;
				
;;------------------------------------------------------

Object WildFortress
BuildCost = 3500
BuildTime = 15
End
Object WildSpiderPit
BuildTime = 15
End

Weapon GoblinArcherPoisonArrows
	AttackRange					= 520 ;430 ; ; GOBLIN_ARCHER_RANGE	;Horde member so it needs to be bigger than the horde weapon attack range
	LeechRangeWeapon			= Yes
	WeaponSpeed					= 481;;300					; dist/sec
	MinWeaponSpeed				= 481;;300;;=;;121
	MaxWeaponSpeed				= 481;;400
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes					; Used for lob weapons, scales speed proportional to range
	HitPercentage				= 100					;When this weapon is used it will hit exactly 50% of the time
	ScatterRadius				= 20.0					;When this weapon misses it can randomly miss by as much as this distance
	CanBeDodged					= Yes					; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	DelayBetweenShots			= 0
	PreAttackDelay				= GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	PreAttackRandomAmount		= 200
	FiringDuration				= 0
	
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%


	ProjectileNugget
		ProjectileTemplateName	= PoisonArrowProjectile
		WarheadTemplateName		= GoblinArcherPoisonArrowsBowWarhead
	End
End
Weapon WildSpiderRiderBow     ; BALANCE Wild Spider Rider bow Weapon
	AttackRange         	= WILD_SPIDERRIDER_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( WILD_SPIDERRIDER_RANGE .01 )  
	
	WeaponSpeed         	= 321         ; dist/sec 
	MinWeaponSpeed      	= 241
	MaxWeaponSpeed      	= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    	= Yes		;Used for lob weapons, scales speed proportional to range
	HitPercentage       	= 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       	= 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta		= 20		; prevent twitchy reaiming in horde on horde
	
	DelayBetweenShots   	= 0
	
	PreAttackDelay      	= WILD_SPIDERRIDER_BOW_PREATTACKDELAY 
	PreAttackType			= PER_SHOT
	;PreAttackRandomAmount	= 200   
	FiringDuration			= 0
	RequireFollowThru		= Yes

	;OverrideVoiceAttackSound			= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackAirSound		= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackStructureSound	= ElvenWarriorVoiceAttackBow
	;OverrideVoiceAttackMachineSound	= ElvenWarriorVoiceAttackBow
	  
	;AutoReloadWhenIdle		= 1	
	
	ClipSize				= 1
	AutoReloadsClip			= Yes
	ClipReloadTime			= Min:WILD_SPIDERRIDER_BOW_RELOADTIME_MIN Max:WILD_SPIDERRIDER_BOW_RELOADTIME_MAX
	
	;ContinuousFireOne		= 0
	;ContinuousFireCoast		= WILD_SPIDERRIDER_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
End
Object GoblinCave
BuildTime = 15
End

Object WildSentryTower	
BuildCost = 350
BuildTime = 15
End
FXParticleSystem PoisonedArrowTrail ;;=;; based on flecha dorada de haldir
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXSplatHaze.tga
    Lifetime = 15 15  ;;=;; 25 25
    SortLevel = 1
    Size = 2 10 ;;=;; 1 10
    BurstCount = 4 11
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:2 G:128 B:5 5 ;;=;; R:114 G:200 B:233 5
  End
  Update = DefaultUpdate
    SizeRate = -0.35 -0.23
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.02
    VelocityDamping = 1 1
    DriftVelocity = X:0 Y:0 Z:-0.1
  End
  EmissionVelocity = OrthoEmissionVelocity
    Z = 0 -0.1
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 10
  End
  Draw = DefaultDraw
  End
End
Weapon PoisonSplash
	IdleAfterFiringDelay = 0
	WeaponSpeed = 901         // dist/sec
 	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	DOTNugget
		Damage        = 5
		AcceptDamageAdd = Yes
		Radius        = 20//25 ;; 15
		DelayTime     = 0
		DamageType    = POISON
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 500
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End
	AttributeModifierNugget
		AttributeModifier	= PoisonSlowsYouABit
		Radius					 = 20//25 ;; 15
		DamageFXType             = POISON 
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End
End

				;-----------LIGHTNING TOWER-----------;
				
ChildObject MordorBaseDefenceFoundation MordorBattleTower //I just want a childobject. I gonna use this build up animation and whenit spawns replaces by the tower i want =D. Sicne Orhanc doesnt have destroy animations, it's invulnerable like real orthanc =D
BuildCost = 4000
BuildTime = 15
	AddModule
	Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
		UpgradeToGrant		= Upgrade_HubIsBuilt
		GiveOnBuildComplete = Yes 
	End
	Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Tower //works...
		ReplaceWith = IsengardTowerOfOrthanc
		TriggeredBy = Upgrade_HubIsBuilt
		;ConflictsWith = Upgrade_DwarvenWallHub Upgrade_DwarvenWallRegularGate Upgrade_DwarvenWallPosternGate Upgrade_DwarvenWallCatapult
	End
	End
	GeometryContactPoint = X:20.0	Y:-20.0	Z:0		Repair
	Geometry              = CYLINDER
	GeometryMajorRadius   = 70.0
	GeometryMinorRadius   = 70.0
	GeometryHeight        = 119
	GeometryOffset		  = X:0 Y:0 Z:0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
	BuildCompletion     = PLACED_BY_PLAYER
End

Object IsengardTowerOfOrthanc;;;MordorBattleTower
	ReplaceModule ModuleTag_04
	Behavior            = GettingBuiltBehavior ModuleTag_042
		WorkerName		  = MordorWorkerNoSelect
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	End
	End
	ThreatBreakdown ModuleTag_ThreatBreakdown
		AIKindOf = BATTLE_TOWER
	End
	AddModule
	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon123
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate			= 700 ;;600
	End
	Draw = W3DFloorDraw ModuleTag_Draw_Bib
		ModelName = MBSentry_Bib
		WeatherTexture		= SNOWY MBSentry_Bib_S.tga
  		HideIfModelConditions	=	AWAITING_CONSTRUCTION
  		HideIfModelConditions	=	PARTIALLY_CONSTRUCTED
	End
	Behavior = ProductionUpdate ModuleTag_UpgradeProducer
	End
	Body = HighlanderBody ModuleTag_02
		MaxHealth         = 1.0
	End
	End
	RemoveModule ModuleTag_05
	RemoveModule ModuleTag_CMB
	RemoveModule ModuleTag_QueuePEU
	RemoveModule ModuleTag_CommandSetIsengard
	CommandSet EmptyCommandSet
	Scale = 0.50
	RemoveModule ModuleTag_SlaughterMe
	BuildCost = 1000
	BuildTime = 15
	DisplayName         = SCRIPT:LightningTower 
	WeaponSet
		Conditions			= None
		Weapon				= PRIMARY DwarvenBattleWagonPassengerPikeUpgraded
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	Geometry              	= CYLINDER
	GeometryMajorRadius   	= 21.3;;42.6
	GeometryMinorRadius   	= 0
	GeometryHeight        	= 32.7;;65.2
	  
	AdditionalGeometry    	= CYLINDER
	GeometryMajorRadius   	= 11.3;;22.6
	GeometryMinorRadius   	= 0
	GeometryHeight        	= 132.6;;265.2
	  
	GeometryIsSmall       	= Yes
	Shadow                	= SHADOW_VOLUME
	BuildCompletion       	= PLACED_BY_PLAYER
	  
	HealthBoxScale			= 1.25;;2.5
End


;;-------------------OLDSHIT-------------------------;;
;;----------------------------------fxparticlesystem.ini-------------------------------------;;

FXParticleSystem FaramirArrowTrail
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXEclipseBlur.tga
    Lifetime = 25 25
    SortLevel = 1
    BurstCount = 2 2
    IsGroundAligned = Yes

    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
 ;;   Color1 = R:206 G:126 B:62 0 ;;=;; R:49 G:129 B:193 0
    Color1 = R:49 G:193 B:129 0 ;;=;; R:49 G:129 B:193 0
    Color2 = R:0 G:0 B:0 25
  End
  Update = DefaultUpdate
    SizeRate = 4 5
    SizeRateDamping = 0.8 0.9
    AngleZ = 1 2
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraInitial01
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXHPbibi.tga
    Lifetime = 35 35
    SystemLifetime = 45
    SortLevel = 1
    Size = 900 900
    StartSizeRate = 1 1
    BurstDelay = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color2 = R:102 G:255 B:204 10
    Color3 = R:0 G:0 B:0 22
    ColorScale = -20 20
  End
  Update = DefaultUpdate
    SizeRate = -10 -10
    SizeRateDamping = 1.05 1.05
    AngleZ = -180 180
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -4 -4
    OtherSpeed = -4 -4
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:10
    EndPoint = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraInitial02
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 55 55
    SystemLifetime = 20
    SortLevel = 1
    Size = 15 15
    BurstDelay = 5 5
    BurstCount = 1 1
    InitialDelay = 15 15
  End
  Color = DefaultColor
    Color2 = R:90 G:255 B:204 20
    Color3 = R:0 G:0 B:0 40
  End
  Update = DefaultUpdate
    SizeRate = 2 2
    SizeRateDamping = 1.03 1.03
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:8
    EndPoint = X:0 Y:0 Z:8
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraInitial03
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 55 55
    SystemLifetime = 20
    SortLevel = 1
    Size = 30 60
    BurstCount = 5 5
    InitialDelay = 15 15
  End
  Color = DefaultColor
    Color2 = R:76 G:172 B:5 20
    Color3 = R:0 G:0 B:0 40
  End
  Update = DefaultUpdate
    SizeRateDamping = 1.03 1.03
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -4 -4
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 600
    Offset = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp01
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 120 120
    SystemLifetime = 15
    SortLevel = 1
    Size = 120 120
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:25 G:25 B:55 0 ; R:38 G:243 B:47 0
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 150 150
    SizeRateDamping = 0.9 0.9
    AngleZ = 120 120
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp02
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXHPcoresun.tga
    Lifetime = 120 120
    SystemLifetime = 2
    SortLevel = 1
    Size = 60 60
    BurstCount = 3 3
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:5 G:0 B:55 5 ; R:38 G:243 B:47 0
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 90 90
    SizeRateDamping = 0.9 0.9
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp03
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXBarbStreaks.tga
    Lifetime = 90 90
    SystemLifetime = 2
    SortLevel = 1
    Size = 60 60
    BurstCount = 10 10
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:76 G:0 B:153 5 ; R:38 G:243 B:47 0
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 30 90
    SizeRateDamping = 0.9 0.9
    AngleZ = 0 9
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem WitchKingDeathRays
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXBarbStreaks.tga
    Lifetime = 110 110 ; 80 80
    SystemLifetime = 1
    SortLevel = 1
    BurstCount = 35 35
    InitialDelay = 10 10
  End
  Color = DefaultColor
    Color1 = R:204 G:75 B:204 0 ; R:136 G:136 B:136 0
    Color2 = R:0 G:0 B:0 80
  End
  Update = DefaultUpdate
    SizeRate = 15 20 ; 10 15
    SizeRateDamping = 0.95 0.95
    AngleZ = -7 0
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.4 0.4
    Y = -0.4 0.4
  End
  EmissionVolume = LineEmissionVolume
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem WitchKingDeathWave
  System
    Priority = VERY_LOW_OR_ABOVE
    Shader = ALPHA
    ParticleName = SMUDGE.tga
    Lifetime = 35 35 ; 30 30
    SystemLifetime = 1
    Size = 75 75 ; 50 50
    BurstCount = 50 50
    InitialDelay = 25 25
  End
  Color = DefaultColor
    Color1 = R:51 G:51 B:155 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 0
  End
  Update = DefaultUpdate
    SizeRateDamping = 1 1
    AngleZ = 0.01 0.01
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.9 0.95
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = 7 7
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadEye ; ; Slayer_BTP
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga ; ; EXWebTwirl.tga
    Lifetime = 15 15
    SortLevel = 1
    Size = 10 15
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:50 G:90 B:114 5
    Color3 = R:0 G:0 B:0 15
    Color4 = R:32 G:32 B:32 0
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 8
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp01_1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 9 9
    SystemLifetime = 3
    SortLevel = 1
    Size = 8 8
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:51 G:255 B:153 6
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 10 10
    SizeRateDamping = 0.9 0.9
    AngleZ = 9 9
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp02_2
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXHPcoresun.tga
    Lifetime = 9 9
    SystemLifetime = 1
    SortLevel = 1
    Size = 4 4
    BurstCount = 2 2
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:0 G:204 B:204 4
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 7 7
    SizeRateDamping = 0.9 0.9
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem UltraExp03_3
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXBarbStreaks.tga
    Lifetime = 45 45
    SystemLifetime = 1
    SortLevel = 1
    Size = 4 4
    BurstCount = 2 5
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:0 G:153 B:153 2
    Color2 = R:0 G:0 B:0 90
  End
  Update = DefaultUpdate
    SizeRate = 3 6
    SizeRateDamping = 0.9 0.9
    AngleZ = 0 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.08
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadeyeArrow1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXspearhead.tga
    Lifetime = 15 15
    SortLevel = 1
    Size = 5 5
    BurstCount = 4 4
 ;   IsGroundAligned = Yes
  ;  IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:125 G:71 B:250 5 ; 
    Color2 = R:255 G:255 B:255 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.25 0.25 0
    Alpha2 = 0 0 15
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.50
    SizeRateDamping = 1 1
    AngleZ = 0 2
    AngularDamping = 1 1
    AngularDampingXY = 1 3
  End
  Physics = DefaultPhysics
    VelocityDamping = 3 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:-5 Y:5 Z:0
    EndPoint = X:-5 Y:5 Z:0
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadeyeArrow2
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXsarumanbolt2.tga ; ; EXBoltRadial.tga ; ; EXsarumanbolt.tga ; EXspearhead.tga
    Lifetime = 15 15
    SortLevel = 1
    Size = 5 5
    BurstCount = 4 4
    IsGroundAligned = Yes
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:52 G:98 B:254 0
    Color2 = R:0 G:0 B:0 6
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.25 0.25 0
    Alpha2 = 0 0 15
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 0.5 0.5
    AngleZ = -1 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0 8.07921e+33
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 1
    Length = 20
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadeyeArrow3
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXsarumanbolt2.tga : EXBoltRadial.tga ; ; EXsarumanbolt.tga ; EXspearhead.tga
    Lifetime = 4 6
    SystemLifetime = 4
    SortLevel = 1
    Size = 0.2 0.4
    StartSizeRate = 1 4
    BurstCount = 3 4
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:52 G:98 B:254 0
    Color2 = R:0 G:0 B:0 6
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.25 0.25 0
    Alpha2 = 0 0 15
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 0.5 0.5
    AngleZ = -1 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0 8.07921e+33
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 1
    Length = 20
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranArrowTrail1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXEclipseBlur.tga
    Lifetime = 75 75
    SortLevel = 2
    BurstCount = 2 2
    IsGroundAligned = Yes
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 4
 ;   Color1 = R:203 G:95 B:250 4
    Color2 = R:255 G:255 B:255 2
  End
  Update = DefaultUpdate
    SizeRate = 6 7 ; ; 4 5
    SizeRateDamping = 0.98 0.98
    AngleZ = 90 90
    AngularRateZ = 0.05 0.05
    AngularDamping = 1 1
    Rotation = ROTATE_X
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = StreakDraw
  End
End

;;----------------------------------------playertemplate.ini-----------------------------------------------;;

PlayerTemplate FactionMen
DefaultPlayerAIType			= NONE
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
	;SpellBookMp = ElvesSpellBook
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = GondorCampKeep
	;	StartingUnit1 = MenPorter
	;	StartingUnit1 = MenPorter
End

PlayerTemplate FactionElves
DefaultPlayerAIType			= NONE
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
;SpellBookMp = ElvesSpellBook
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = RivElHouse;LothlorienTreeHouse2
	;	StartingUnit1 = ElvenPorter
	;	StartingUnit0 = ElvenPorter
End

PlayerTemplate FactionDwarves
DefaultPlayerAIType			= NONE
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
	;SpellBookMp = ElvesSpellBook
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = DaleBuilding01
	;	StartingUnit1 = DwarvenPorterRiv
	;	StartingUnit0 = DwarvenPorter
End

PlayerTemplate FactionIsengard
DefaultPlayerAIType			= NONE
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
	;SpellBookMp = ElvesSpellBook
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = IsengardCampKeep
	;	StartingUnit1 = IsengardPorter
	;	StartingUnit0 = IsengardPorter
End

PlayerTemplate FactionMordor
DefaultPlayerAIType			= NONE
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
	;SpellBookMp = ElvesSpellBook
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = HaradCampKeep
	;	StartingUnit1 = MordorPorter
	;	StartingUnit0 = MordorPorter
End

PlayerTemplate FactionWild
DefaultPlayerAIType			= NONE
	;SpellBookMp = ElvesSpellBook
	;IntrinsicSciencesMP = SCIENCE_ELVES
	;PurchaseScienceCommandSetMP = ElvesSpellStoreCommandSet
InitialUpgrades				= Upgrade_AllFactionsHaveThisUpgrade
	;	StartingBuilding = MordorCampKeep
	;	StartingUnit1 = WildPorter
	;	StartingUnit0 = WildPorter
End



Weapon ThranduilThornofVengeance
	AttackRange				= 550
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 531 ; 321				 ; dist/sec 
	MinWeaponSpeed			= 531 ; 241
	MaxWeaponSpeed			= 531 ; 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX					= FX_ThranduilThornOfVengeance	;FX_FaramirWoundingArrow
	ScaleWeaponSpeed		= Yes ; Used for lob weapons, scales speed proportional to range
	HitStoredTarget			= Yes	; Always hits initial target.
	HitPercentage			= 100		 
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:THRANDUIL_THORN_RELOADTIME_MIN Max:THRANDUIL_THORN_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
End

Weapon ElvenThranduilBow
	AttackRange         = 475
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1.1 ; ;#MULTIPLY( THRANDUIL_BOW_RANGE .01 )  
	LeechRangeWeapon	= Yes
	WeaponSpeed         = 888
	MinWeaponSpeed      = 888
	MaxWeaponSpeed      = 888      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	HitStoredTarget = Yes	; Always hits initial target.
	ScatterRadius       = 0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots   = 0
	PreAttackDelay      = 150 ; ;ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= 777
	ContinuousFireOne	= 0
	ContinuousFireCoast	= 0
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
End

Weapon ElvenThranduilBowDeadeye
	AttackRange					= 550
	WeaponSpeed					= 555 ; 321
	MinWeaponSpeed				= 555 ; 241
	MaxWeaponSpeed				= 555 ; 481
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	HitStoredTarget				= Yes
	DelayBetweenShots			= 0
	PreAttackDelay				= 0
	PreAttackType				= PER_POSITION
	FiringDuration				= 0
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= 222
	ContinuousFireOne			= 0
	ContinuousFireCoast			= 0
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 100%
	CanBeDodged					= No
END


Weapon FaramirWoundArrowWarhead2

	ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = FARAMIR_WOUNDING_ARROW_DAMAGE
		DamageScalar  = 10% NONE +STRUCTURE +MordorCatapult +IsengardBallista +GondorTrebuchet +GondorTrebuchetWall 
		DamageScalar  = 300% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
		DamageScalar  = 150% NONE +MordorMountainTroll +MordorCaveTroll +MordorDrummerTroll
		DamageScalar  = 200% NONE +RohanTreeBerd +RohanEntFir +RohanEntBirch +RohanEntFir_Summoned +RohanEntBirch_Summoned 
		Radius        = 25
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = ELECTRIC
		DeathType     = NORMAL
	End
; ;
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = FARAMIR_WOUNDING_ARROW_DAMAGE
		DamageScalar  = 300% ANY +MordorBalrog
		Radius        = 25
		DelayTime     = 0
		DamageType    = CAVALRY
		DamageFXType  = REFLECTED ; ;
		DeathType     = EXPLODED
		SpecialObjectFilter	= ANY +HERO +MONSTER +MordorBalrog;;=;;
	End
	
  MetaImpactNugget                    ; A Nugget that throws things back with force
	SpecialObjectFilter = ALL -HERO
    HeroResist			= 100%
    ShockWaveAmount		= 25.0
    ShockWaveRadius		= 25 ;;=;; 16
    ShockWaveArc		= 120
    ShockWaveTaperOff = 1
  End

End

Weapon RingHeroDeathShockwave1		;
	IdleAfterFiringDelay	= 0
	AttackRange				= 120
	MinimumAttackRange		= 0.8
	WeaponSpeed				= 401							; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 601							; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed		= Yes							; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 5000							; time between shots, msec
	PreAttackDelay			= 1
	PreAttackType			= PER_ATTACK					; Do the delay each time we attack a new target
	FireFX					= FX_RingHeroBlast
	FiringDuration			= 900
	DamageNugget											; A basic Nugget that just does damage
		Damage			= 1000
		Radius			= 50.0
		DamageType		= SIEGE ; EVERYONE GUNNA TAKE 50%
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 400.0								; must match the ShockWaveSpeed below
	    DamageScalar	= 0% ALL ALLIES						; only meta impact affects allied units.
	End
	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 70.0
		ShockWaveRadius		= 50.0
		ShockWaveTaperOff	= 1.2
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 400.0 
	End
	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 80.0
		ShockWaveRadius		= 60.0
		ShockWaveTaperOff	= 1.2
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 400.0 
		DelayTime			= 100
	End
	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 90.0
		ShockWaveRadius		= 70.0
		ShockWaveTaperOff	= 1.2
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 400.0 
		DelayTime			= 200
	End
End

Weapon RingHeroDeathShockwave		; Big Blue Ring Blast
	IdleAfterFiringDelay	= 0
	AttackRange				= 120
	MinimumAttackRange		= 0.8
	WeaponSpeed				= 401							; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 601							; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed		= Yes							; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 5000							; time between shots, msec
	PreAttackDelay			= 2600
	PreAttackType			= PER_ATTACK					; Do the delay each time we attack a new target
	PreAttackFX				= FX_RingHeroPreAttackBlast
	FireFX					= FX_RingHeroBlast
	FiringDuration			= 1400
	
	DamageNugget											; A basic Nugget that just does damage
		Damage			= 2500
		Radius			= 1000.0
		DamageType		= FLAME
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 600.0								; must match the ShockWaveSpeed below
	    DamageScalar	= 0% ALL ALLIES						; only meta impact affects allied units.
	End

	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 280.0
		ShockWaveRadius		= 1500.0
		ShockWaveTaperOff	= 3.0
		ShockWaveZMult		= 4.000
		ShockWaveSpeed		= 600.0 
	End

	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 280.0
		ShockWaveRadius		= 1400.0
		ShockWaveTaperOff	= 3.0
		ShockWaveZMult		= 4.000
		ShockWaveSpeed		= 600.0 
		DelayTime			= 100
	End
	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 280.0
		ShockWaveRadius		= 1300.0
		ShockWaveTaperOff	= 3.0
		ShockWaveZMult		= 4.000
		ShockWaveSpeed		= 600.0 
		DelayTime			= 200
	End
End


Weapon FaramirBow       
    AttackRange			= 450 ;;=;; 350
    
    RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= 1 ; ;#MULTIPLY( FARAMIR_BOW_RANGE .01 )
    				
    LeechRangeWeapon    = Yes
    WeaponSpeed			= 321         ; dist/sec 
    MinWeaponSpeed		= 241
    MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
    FireFX				= FX_RohanArcherBowWeapon
    ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
    HitPercentage		= 100     ;When this weapon is used it will hit exactly 75% of the time.
    ScatterRadius		= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
   
    DelayBetweenShots	= FARAMIR_BOW_DELAYBETWEENSHOTS        ; time between shots, msec
    PreAttackDelay		= 150 ;;=;; 1170             ; 1467 is the prep time for archer.
    PreAttackType		= PER_POSITION
    FiringDuration		= FARAMIR_BOW_FIRINGDURATION   ; Duration of the archer firing shot is 500ms.
 
    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
	ClipReloadTime 		= 1066 ;;=;; 966 ;;=;; 1166 ;900 ; ;Min:GONDOR_RANGER_BOW_RELOADTIME_MIN Max:GONDOR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 2 ;3 ; ;
  	WeaponBonus = CONTINUOUS_FIRE_MEAN RATE_OF_FIRE 225% ; ;
	ContinuousFireCoast	= GONDOR_RANGER_BOW_RELOADTIME_MAX
	
End


Weapon FaramirWoundArrow
	AttackRange				= 525 ;;=;; 
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FaramirWoundingArrow
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100		 ;When this weapon is used it will hit exactly 75% of the time.
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 5500
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
End

;;---------------------------------locomotor.ini-------------------------------;;

Locomotor SharkusLocomotor
  Surfaces                = GROUND RUBBLE CLIFF ;;
  TurnTime                = 1500
  TurnTimeDamaged         = 1500
  ;TurnThreshold           = 0.5       ; 30 degree turn threshold before using the TURN flags
  Acceleration			= 1500  ; 1.1 seconds to accelerate to full speed.
  SlowTurnRadius		= 0.0 ;  From a standing starts, horse turns in place.
  FastTurnRadius		= 48.0 ; Once the catapult gets moving, still uses a 30 foot radius to turn.
  FormationPriority		= MELEE1 ;CAVALRY2
  
  TurnPivotOffset                 = 1   ; where to pivot when turning (-1.0 = rear, 0.0 = center, 1.0 = front)
  ;Appearance                      = FOUR_LEGS_HUGE
  
  Braking				= 1000  ; 1 second to brake from full speed.
  MinTurnSpeed            = 10%
  ZAxisBehavior           = NO_Z_MOTIVE_FORCE
  AccDecTrigger           = 0.5       ; ratio of max speed where we trigger acc and dec model states
  ;WalkDistance            = 80         ; in unit distance
  Appearance              = FOUR_WHEELS     ; Shouldn't this be FOUR_LEGS?
  StickToGround           = Yes       ; walking guys aren't allowed to catch huge (or even small) air.
  CanMoveBackwards        = No        ; Can't move backwards.

  HasSuspension = Yes           ; Calculate 4 wheel independent suspension info.
  FrontWheelTurnAngle             = 20      ; How many degrees the front wheels can turn.
  ForwardAccelerationPitchFactor = 0.00  ; How much acceleration will cause the front to lift, or dip for stops.
  LateralAccelerationRollFactor  = 0.10  ; How much cornering will cause the chassis to roll.

  CloseEnoughDist = 2.0         ; How close we must get to the end of a goal path before declaring success
End
;;---------------------------------object.ini----------------------------------;;
Object ElvenCitadel
End






Object SummonedDragon
	RemoveModule ModuleTag_LifetimeUpdate
End




//----------------------------Mordor tavern--------------------------//
Object MordorTavern
	BuildTime = 15
	CommandSet			= MordorTavernaCommandSetLevel1
	ReplaceModule ModuleTag_MordorTavernLevel2
	Behavior = CommandSetUpgrade ModuleTag_MordorTavernLevel2_Sobrescrito
		TriggeredBy		= Upgrade_MordorTavernLevel2
		ConflictsWith	= Upgrade_MordorTavernLevel3
		CommandSet		= MordorTavernaCommandSetLevel2
	End
	End
	ReplaceModule ModuleTag_MordorTavernLevel3
	Behavior = CommandSetUpgrade ModuleTag_MordorTavernLevel3_Sobrescrito
		TriggeredBy		= Upgrade_MordorTavernLevel3
		CommandSet		= MordorTavernaCommandSetLevel3
	End
	End
End
//----------------------------Harad archer--------------------------//
Object MordorHaradrimArcherHorde
	CommandPoints = 70
	RemoveModule ModuleTag_DisguiseEnabler
	RemoveModule ModuleTag_LongShot
	RemoveModule ModuleTag_FireballUpdate
	CommandSet = MordorHaradrimArcherHordeCommandSeto
	AddModule ModuleTag_ProductionLegality3
	Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality3
		TriggeredBy			= Upgrade_MordorBarbedArrowsCowsRGreat
	End
	End
End
Object MordorHaradrimArcher
	CommandPoints = 7
	AddModule 
	Behavior = WeaponSetUpgrade ModuleTag_NoParticlesAtAllYetLegalityUpgrade
		TriggeredBy = Upgrade_MordorBarbedArrowsCowsRGreat
	End
	End
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HaradrimBow
		Weapon = TERTIARY   HaradrimBowBombard
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY	HaradrimBarbedArrow
		Weapon = TERTIARY   MirkwoodArcherSilverthornBowBombard
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT
	End
End

//----------------------------Men barracks archer--------------------------//
Object RohanArcherRange
	BuildCost = 350
	BuildTime = 15
	CommandSet = RohanArcheryRangeCommandSet
End


Object RohanStable //because we will use this model.
	BuildCost = 550
	CommandSet = RohanStableCommandSet
	BuildTime = 15
	
   ReplaceModule Geom_ModuleTag_ShowWalls
		Behavior = GeometryUpgrade Geom_ModuleTag_ShowWalls2
		TriggeredBy		= Upgrade_GondorStableLevel2
		ShowGeometry	= Geom_Orig
		HideGeometry	= Geom_V2 
	End
  End
  ReplaceModule ModuleTag_ShowWalls
 	Behavior = SubObjectsUpgrade ModuleTag_ShowWalls2
		TriggeredBy		= Upgrade_GondorStableLevel2
		ShowSubObjects	= V1 V1A V2HIDE
		HideSubObjects	= V2 V2A
	End
  End
   ReplaceModule ModuleTag_ShowPillars
	Behavior = SubObjectsUpgrade ModuleTag_ShowPillars2
		TriggeredBy		= Upgrade_GondorStableLevel3
		ShowSubObjects	= V2 V2A V1 V1A
		HideSubObjects	= V2HIDE
	End
  End
   ReplaceModule ModuleTag_ThirdLevelBuildingArrows
  	Behavior = WeaponSetUpgrade ModuleTag_ThirdLevelBuildingArrows2
		TriggeredBy		= Upgrade_GondorStableLevel3
		ConflictsWith	= Upgrade_EasyAIMultiPlayer
	End
  End
   ReplaceModule Geom_ModuleTag_ShowFlagsAndTower
  	Behavior = GeometryUpgrade Geom_ModuleTag_ShowFlagsAndTower2
		TriggeredBy		= Upgrade_GondorStableLevel3
		ShowGeometry	= Geom_Orig Geom_V2
	End
   End
   AddModule 
	Behavior = CommandSetUpgrade ModueTag_StableLevel2CommandSet
		TriggeredBy			= Upgrade_GondorStableLevel2
		ConflictsWith		= Upgrade_GondorStableLevel3
		CommandSet			= RohanStableCommandSetLevel2
	End   
	Behavior = CommandSetUpgrade ModueTag_StableLevel3CommandSet
		TriggeredBy			= Upgrade_GondorStableLevel3		
		CommandSet			= RohanStableCommandSetLevel3
	End   
	Behavior = LevelUpUpgrade ModuleTag_StableLevel2
		TriggeredBy    = Upgrade_GondorStableLevel2      
		LevelsToGain   = 1
		LevelCap       = 3
	End

	Behavior = LevelUpUpgrade ModuleTag_StableLevel3
		TriggeredBy    = Upgrade_GondorStableLevel3      
		LevelsToGain   = 1
		LevelCap       = 3
	End
   End
End


//----------------------------Harad archer--------------------------//
Object ElvenCitadel
	AddModule
	Behavior = SpawnBehavior ModuleTag_SpawnFighters
		TriggeredBy				= Upgrade_FortressOilIsReady ;;=;; 
		SpawnNumber				= 3
		InitialBurst			= 3
		SpawnTemplateName		= GondorGwaihir_Slaved
		SpawnReplaceDelay		= 999999
		FadeInTime				= 1000
		SpawnInsideBuilding		= Yes
	End
	End
End
	
ChildObject GondorGwaihir_Slaved GondorGwaihir
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_AllFactionsHaveThisUpgrade
		AttributeModifier	= BunitosNerf
	End
	End
	Scale = 0.5
	BuildCost = 0 
	IsTrainable = No
	CommandPoints = 0
	AddModule
    Behavior = UpgradeDie ModuleTag_CrystalMoatBugfix ; ;
        DeathTypes = ALL
        UpgradeToRemove = Upgrade_HasEaglesNestEagle
    End
	End
	AddModule
		Behavior = SlavedUpdate ModuleTag_Slave
		LeashRange									= 900 ;;=;; 300
		GuardMaxRange								= 0
		GuardWanderRange							= 0
		AttackRange									= 800 ;;=;; 200
		UseSlaverAsControlForEvaObjectSightedEvents	= No	// Not a creep		
		GuardPositionOffset							= X:-15 Y:0 Z:40
		FadeOutRange								= 20
		FadeTime									= 1000	//in msec
		DieOnMastersDeath							= Yes	//Die when my master dies!
	End
	End
	RemoveModule ModuleTag_02
	AddModule
	Body = HighlanderBody ModuleTag_021
		MaxHealth         = 1.0
	End
	End	
End
Object ElvenBarracks
BuildTime = 15
End
				;-----------WATERTOWER-----------;
				 //ok apparently commandbutton crash if the object is new.But OCL, CreationUpgrade, ReplaceUpgrade don't care.
				 //here i just want a child object of gondor sentry tower so i don't fuck MotWs one. And since i can't create object im gonna use a random shit whose behaviors don't seem to make trouble with the visual father object.
ChildObject RohanBaseDefenceFoundation GondorSentryTower
	DisplayName         = CONTROLBAR:WaterTower
	WeaponSet
		Conditions	= NONE
		Weapon		= PRIMARY LadyOfLight //because i want his projectilenugget
	End
	BuildCost = 3000
	BuildTime = 5
End

//-----------------ok. faction objects.ini-----------------------;
Object ElvenPorter
	CommandSet = ElvenPorterCommandSet2
End

Object MordorPorter
	CommandSet = MordorPorterCommandSet2
End
Object MenPorter
	CommandSet = MenPorterCommandSet2
End
Object IsengardPorter
	CommandSet = IsengardPorterCommandSet2
End
Object WildPorter
	CommandSet = WildPorterCommandSet2
End
Object DwarvenPorter
	CommandSet = DwarvenPorterCommandSet2
End

//-----------------ok. map objects.ini-----------------------;
Object DaleFountain //Human
 	KindOf				= PRELOAD STRUCTURE IMMOBILE  MP_COUNT_FOR_VICTORY FS_FACTORY  MADE_OF_WOOD SCORE ;DOZER_FACTORY ; ////////AUTO_RALLYPOINT CASTLE_KEEP VITAL_FOR_BASE_SURVIVAL SELECTABLE COMMANDCENTER
	ArmorSet
		Conditions        = None
		Armor             = InvulnerableArmor
		DamageFX          = GateDamageFX
	End
  AddModule 
	Behavior = AttributeModifierAuraUpdate ModuleTag_BannerLeadership12342
		TriggeredBy		= Upgrade_AllFactionsHaveThisUpgrade
		StartsActive	= No
		BonusName		= BetaAtributesForTesting
		RefreshDelay	= 2000
		Range			= 999999
		ObjectFilter	= ANY +INFANTRY +CAVALRY +HERO +MONSTER +DOZER +SELECTABLE +IGNORES_SELECT_ALL +PORTER +MACHINE +STRUCTURE +FS_FACTORY +ECONOMY_STRUCTURE +COMMANDCENTER +BASE_FOUNDATION -FS_CASH_PRODUCER  ALLIES
	End	
  End
End
Object RohanHeroStatue //Creeps
	RemoveModule ModuleTag_FeelGoodHero
	AddModule
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus123
		TriggeredBy		= Upgrade_JustStrongEnemiesHaveThisUpgrade
		StartsActive	= No
		BonusName		= CreepsConditionalyStrongerBonus
		RefreshDelay	= 3000
		Range			= 999999
		ObjectFilter	= ALL ALLIES ;;=;; ANY +INFANTRY +CAVALRY +HERO +MONSTER +DOZER +SELECTABLE +IGNORES_SELECT_ALL +PORTER +MACHINE +STRUCTURE +FS_FACTORY +ECONOMY_STRUCTURE +COMMANDCENTER +BASE_FOUNDATION ALLIES
	End	
	End
	AddModule
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonusW123
		TriggeredBy		= Upgrade_JustWeakEnemiesHaveThisUpgrade
		StartsActive	= No
		BonusName		= CreepsConditionalyWeakerBonus
		RefreshDelay	= 3000
		Range			= 999999
		ObjectFilter	= ALL ALLIES ;;=;; ANY +INFANTRY +CAVALRY +HERO +MONSTER +DOZER +SELECTABLE +IGNORES_SELECT_ALL +PORTER +MACHINE +STRUCTURE +FS_FACTORY +ECONOMY_STRUCTURE +COMMANDCENTER +BASE_FOUNDATION ALLIES
	End	
	End
End
Object MordorCirithUngolStairD // Civilian
  KindOf          = IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  DisplayName     = OBJECT:Stairs
  ArmorSet
    Armor = InvulnerableArmor
  End
End
Object MordorCirithUngolBridgeA
  DisplayName     = OBJECT:DaleBridge
  ArmorSet
    Armor = InvulnerableArmor
  End
	AddModule ModuleTag_WallBonus
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus123
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= BridgeRangeBonusModifier
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	
	End
End
Object RuinedTower
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION GARRISON CAN_ATTACK GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY CAN_CAST_REFLECTIONS; ;
	ReplaceModule ModuleTag_SoWeCanUseWeapon
	Behavior = AIUpdateInterface ModuleTag_AI2
		AILuaEventsList				= DormitoryFunctions
		AutoAcquireEnemiesWhenIdle	= Yes ;;=;; No
		MoodAttackCheckRate				= 500
	End
	End
End

//----------------------------heroes archer--------------------------//
Object ElvenThranduil
;;;;;;;;;;;;;;;;, thorn of venganza!
	ReplaceModule ModuleTag_ThornArrowUpdate
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_ThornArrowUpdate1
		SpecialPowerTemplate		= SpecialAbilityThornVengeance
		SkipContinue				= Yes
		UnpackTime					= 1200 ;;=;; 1600
		PreparationTime				= 2
		PackTime					= 850
		AwardXPForTriggering		= 0
		StartAbilityRange			= 500
		ApproachRequiresLOS			= Yes		
		SpecialWeapon				= ThranduilThornofVengeance
		WhichSpecialWeapon			= 1
	End
	End
	ReplaceModule ModuleTag_ThornArrowAutoAbility
	Behavior = AutoAbilityBehavior ModuleTag_ThornArrowAutoAbility1
		SpecialAbility				= SpecialAbilityThornVengeance
		MaxScanRange				= 500
		Query						= 1 ANY ENEMIES +HERO +MONSTER
		Query						= 1 ALL ENEMIES
	End
	End
;;;;;;;;;;;;;;;;;; dead eye
	ReplaceModule ModuleTag_DeadeyeStarter
	Behavior = SpecialPowerModule ModuleTag_DeadeyeStarter1
		SpecialPowerTemplate    = SpecialAbilityThranduilDeadeye
		StartsPaused			= Yes
		UpdateModuleStartsAttack = Yes ; No
	End
	End
	ReplaceModule ModuleTag_DeadeyeUpdate
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadeyeUpdate1
		SpecialPowerTemplate    = SpecialAbilityThranduilDeadeye
		HeroEffectDuration		= 20000
		UnpackTime              = 1
		TriggerSound			= CaH_Invulnerability ; AragornBladeMaster
		PackTime				= 1 ; 2500
		UnpackingVariation		= 1
	End
	End

	CommandPoints	= 0
	LocomotorSet
		Locomotor = ElvenThranduilLocomotor
		Condition = SET_NORMAL
		Speed     = 70
	End
End

//-------------------leadership system statues------------------;;

Object GondorStatue
	Description			= CONTROLBAR:ToolTipAragornLeadership
	Scale	= 1.25
	BuildTime	= 5
	BuildCost	= 250
	ReplaceModule ModuleTag_FeelGoodHero
	Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero25
		EffectRadius			= GONDOR_STATUE_AOE_RADIUS
			PingDelay				= 1500
			ModifierName			= GenericHeroLeadership
			AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
End
Object ElvenStatue
	Description			= CONTROLBAR:ToolTipAragornLeadership
	Scale	= 1.25
	BuildTime	= 5
	BuildCost	= 250
	ReplaceModule ModuleTag_FeelGoodHero
	Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero25
		EffectRadius				= ELVEN_STATUE_AOE_RADIUS
			PingDelay				= 1500
			ModifierName			= GenericHeroLeadership
			AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
End
Object DwarvenStatue
	Description			= CONTROLBAR:ToolTipAragornLeadership
	Scale	= 1.25
	BuildTime	= 5
	BuildCost	= 250
	ReplaceModule ModuleTag_FeelGoodHero
		Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero25
			EffectRadius			= DWARVEN_STATUE_AOE_RADIUS
			PingDelay				= 1500
			ModifierName			= GenericHeroLeadership
			AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		End
	End
End
///------------------ok. citadels------------------------------;;
//--
Object MenFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object MenFortressCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag2123
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes
			ModifierFilter = ALL 
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//--
Object ElvenFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object ElvenCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag234
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes
			ModifierFilter = ALL 
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//--
Object DwarvenFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object DwarvenFortressCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag2876
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes
			ModifierFilter = ALL 
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//--
Object IsengardFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object IsengardFortressCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag2347436
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes
			ModifierFilter = ALL 
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//--
Object MordorFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object MordorFortressCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag253453
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes
			ModifierFilter = ALL 
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//--
Object WildFortress
	PlacementViewAngle = -45 ;;=;;45
End
//--
Object WildFortressCitadel
	PlacementViewAngle = -45 ;;=;;45
	RemoveModule ProductionUpdateModuleTag
	AddModule
	Behavior = ProductionUpdate ProductionUpdateModuleTag243345
		ProductionModifier		
			;RequiredUpgrade = Upgrade_MenFaction 
			TimeMultiplier = 0.66
			HeroRevive = Yes
			HeroPurchase = Yes	; Instead of an object filter, needs to be explicitly hero-revival-system compatible
			ModifierFilter = ALL 
		
		End
  		NumDoorAnimations            = 1
		DoorOpeningTime              = 3000  ;in mSeconds how long you want doors to be in open state
		DoorWaitOpenTime             = 3000  ;in mSeconds time the door stays open, so units can exit
		DoorCloseTime                = 3000  ;in mSeconds how long you want doors to be in open state		
	End
	End
End
//-----------------------------------------------------

Object IsengardSharku


	ReplaceModule ModuleTag_RespawnBody
  	Body = RespawnBody ModuleTag_Salud
		CheerRadius 			= EMOTION_CHEER_RADIUS
   		MaxHealth         		= 5000
  		PermanentlyKilledByFilter	= NONE
   		DodgePercent     		= HERO_DODGE_PERCENT
  	End
	End
	CrushableLevel = 4;;=;;3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 2;;=;;1 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
	
	MinCrushVelocityPercent = 60 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent = 3;;=;;20 ; Lose 10 percent of max velocity when crushing.
	BuildTime = 15
	LocomotorSet
		Locomotor = SharkusLocomotor//WargLocomotor
		Condition = SET_MOUNTED
		Speed     = 85 ; ;100
	End
	LocomotorSet
		Locomotor = SharkusLocomotor//WargLocomotor
		Condition = SET_NORMAL
		Speed     = 85 ; ;100
	End
	AddModule
	Behavior = SpawnBehavior ModuleTag_SpawnFighters
		TriggeredBy				= Upgrade_AllFactionsHaveThisUpgrade ;;=;; 
		SpawnNumber				= 5
		InitialBurst			= 5
		SpawnTemplateName		= IsengardWargRider_Slaved
		SpawnReplaceDelay		= 900
		FadeInTime				= 1000
		SpawnInsideBuilding		= No ;; Yes
	End
	End
End


ChildObject IsengardWargRider_Slaved IsengardWargRider
	ReplaceModule BodyModuleTag
	Body = ActiveBody BodyModuleTag2
		CheerRadius 		= EMOTION_CHEER_RADIUS
		MaxHealth			= 5000
		MaxHealthDamaged	= 3000		
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_CavalryBurningFlame
		DodgePercent      		= 30 ; ;
	End
	End
	MinCrushVelocityPercent = 45 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent = 9;;=;;20 ; Lose 10 percent of max velocity when crushing.
	LocomotorSet
		Locomotor = SharkusLocomotor
		Condition = SET_MOUNTED
		Speed     = 85 ; ;100
	End
	LocomotorSet
		Locomotor = SharkusLocomotor
		Condition = SET_NORMAL
		Speed     = 85 ; ;100
	End
	AddModule
	Behavior = SlavedUpdate ModuleTag_Slave
		LeashRange									= 50 ;;=;; 300
		GuardMaxRange								= 0
		GuardWanderRange							= 0
		FadeOutRange								= 20
		AttackRange									= 50 ;;=;; 200
		UseSlaverAsControlForEvaObjectSightedEvents	= No	// Not a creep		
		GuardPositionOffset							= X:-15 Y:0 Z:40
		FadeOutRange								= 20
		FadeTime									= 1000	//in msec
		DieOnMastersDeath							= Yes	//Die when my master dies!
	End
	End
End


Object NeutralWarg
  	EvaEnemyObjectSightedEvent = GenericEnemyUnitSighted
 	EvaEnemyObjectSightedAfterRespawnEvent = GenericEnemyUnitSighted
End



ChildObject GondorFaramirCavalry GondorFaramir
	
	;LocomotorSet
	;	Locomotor = HeroHorseLocomotor
	;	Condition = SET_MOUNTED 
	;	Speed     = 116
;	End
	ReplaceModule ModuleTag_HorseToggle
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle2
 		SpecialPowerTemplate    = SpecialAbilityToggleMounted
 		
 		TriggerInstantlyOnCreate = Yes  ;Instantly puts Theoden on a horse.
 
 		UnpackTime              = 500 ;;=;; 2000
 		PreparationTime         = 1  
 		PersistentPrepTime      = 250
 		PackTime                = 500 ;;=;; 2000
 		
 		OpacityTarget			= .3		; How see-thru to be at peak of change
   

 ;    PackSound               = 
 ;    UnpackSound             = 
 ;    TriggerSound            = 
 ;    PrepSoundLoop           = 
 		AwardXPForTriggering    = 0
	End
	End
End

Object GondorFaramir
	CommandSet = GondorFaramirCommandSet2
	AddModule
	Behavior = AttributeModifierUpgrade ModuleTag_ElvenGiftBonus98
		TriggeredBy			= Upgrade_ObjectLevel2
		AttributeModifier	= FaramirStronkAM
	End
	End
	;LocomotorSet
	;	Locomotor = HeroHumanLocomotor
	;	Condition = SET_NORMAL 
	;	Speed     = 66
	;End 
	;LocomotorSet
		;Locomotor = HeroHorseLocomotor
	;	Condition = SET_MOUNTED 
	;	Speed     = 116
	;End
	ReplaceModule ModuleTag_HorseToggle
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle2
 		SpecialPowerTemplate    = SpecialAbilityToggleMounted
 
 		UnpackTime              = 500 ;;=;; 2000
 		PreparationTime         = 1  
 		PersistentPrepTime      = 250
 		PackTime                = 500 ;;=;; 2000
 		
 		OpacityTarget			= .3		; How see-thru to be at peak of change
   
 ;    PackSound               = 
 ;    UnpackSound             = 
 ;    TriggerSound            = 
 ;    PrepSoundLoop           = 
 		AwardXPForTriggering    = 0
	End
	End

	ReplaceModule ModuleTag_FaramirLeadership
	Behavior = AttributeModifierAuraUpdate ModuleTag_FaramirLeadership2
		StartsActive	= No ;If no, requires upgrade to turn on.
		BonusName		= GenericDamageLeadership ; ;GenericHeroLeadership
		TriggeredBy		= Upgrade_FaramirLeadership
		RefreshDelay	= 2500
		Range			= 200
		; ;AntiCategory	= BUFF
		ObjectFilter	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End	
	End

	ReplaceModule ModuleTag_WoundArrowUpdate
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate2
		SpecialPowerTemplate		= SpecialAbilityWoundArrow
		SkipContinue				= Yes
		UnpackTime					= 2000 ;;=;; 1200 ;;=;; 800 ;;=;; 1600 ;;=;; 2000 
		PreparationTime				= 1   
		PersistentPrepTime			= 0 ;;=;; 400 ;;=;; 850 ;;=;; 1000 
		PackTime					= 1
		AwardXPForTriggering		= 0
		StartAbilityRange			= 475 ;;=;; 
		ApproachRequiresLOS			= Yes
		SpecialWeapon				= FaramirWoundArrow
		WhichSpecialWeapon			= 1
	End
	End

End

Object ElvenBattleTower
  CommandSet = ElvenWatchTowerCommandSet2
BuildCost = 350
BuildTime = 15
	ReplaceModule ModuleTag_hordeGarrison
	Behavior = HordeGarrisonContain ModuleTag_hordeGarrison1
 		ObjectStatusOfContained			= UNSELECTABLE CAN_ATTACK ENCLOSED
 		ContainMax              		= 2
 		DamagePercentToUnits    		= 0%
 		PassengerFilter					= GENERIC_FACTION_GARRISONABLE
		AllowEnemiesInside				= No
		AllowAlliesInside				= No
		AllowNeutralInside				= No
		AllowOwnPlayerInsideOverride	= Yes
 		NumberOfExitPaths       		= 1		; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
 		PassengerBonePrefix     		= PassengerBone:Arrow_ KindOf:INFANTRY
 		EntryPosition					= X:0.0 Y:0.0 Z:0.0
		EntryOffset						= X:50.0 Y:0.0 Z:0.0
		ExitOffset						= X:50.0 Y:0.0 Z:0.0
		EnterSound						= RuinedTowerEnterSound
		KillPassengersOnDeath			= No
		ShowPips						= No
	End
	End
End

;-----------------------WAVE9-----------------------;/TO BE ADDED darkness.



;;--------Slow 2---------;,
Object MordorWitchKing  
	Scale	= 1.44
	ReplaceModule ModuleTag_02
	Body = RespawnBody ModuleTag_Salud
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth         			= 18000 ;;=;; 9000 ; even better than 1.6!
		PermanentlyKilledByFilter	= NONE
		BurningDeathBehavior		= Yes
;		BurningDeathFX				= FX_InfantryBurningFlame
	End
	End
	LocomotorSet
		Locomotor = NazgulLocomotor
		Condition = SET_NORMAL
		Speed     = 90
	End
;	RemoveModule ModuleTag_05
;	AddModule
;	Behavior = SlowDeathBehavior ModuleTag_SlowDeath
;		DeathTypes			= ALL 
	;	SinkDelay			= 5000
	;	SinkRate			= 10.0     ; in Dist/Sec - fast!
	;	DestructionDelay	= 1200
  ;      Weapon				= FINAL RingHeroDeathShockwave
	;End
	;End
End


Object MirkwoodArcherSilverthornProjectile
	ReplaceModule ModuleTag_Draw2
    Draw = W3DStreakDraw ModuleTag_Draw22
		Length		= 13
		Width		= 2
		NumSegments	= 8				; number of segements in the streak, increase for smoother line
		Color		= R:155 G:0 B:255 ; ; R:10 G:255 B:255 5 ; ; R:130 G:5 B:255; R:128 G:30 B:100 5
		Texture		= EXRing01.tga ; EXArrowStreakFire.tga
	End
	End
	ReplaceModule ModuleTag_Draw3
    Draw = W3DStreakDraw ModuleTag_Draw33
		Length = 50
		Width = 3
		NumSegments = 6				; number of segements in the streak, increase for smoother line
		Color		=  R:100 G:0 B:255 ; ; R:10 G:199 B:255 5 ; ;R:130 G:5 B:255 ; R:128 G:30 B:128 5
		Texture = EXRing01.tga ; EXLightStreaks2.tga
	End
	End
End

Object GoodFactionFireArrow
	ReplaceModule ModuleTag_Draw3
  Draw = W3DStreakDraw ModuleTag_Draw33
	Length = 50
	Width = 1
	NumSegments = 3				; number of segements in the streak, increase for smoother line
    Color = R:0 G:76 B:153
	Texture = EXLightStreaks2.tga
  End
	End
End

Object ElvenLorienArcher
End

Object ElvenLorienArcherHorde
End

Object GondorRangerHorde
End
Object GondorRangerInnHorde
End

Object RohanElvenWarriorHorde
End
Object RohanElvenWarrior
End 

Object DwarvenMenOfDale
End
Object DwarvenMenOfDaleHorde
End
ChildObject DwarvenMenOfDaleHordeInn DwarvenMenOfDaleHorde
End

Object ElvenMirkwoodArcherHorde
End

Object ElvenMirkwoodArcher
End
Object ElvenMirkwoodArcherHorde
End



;;;;;;;					[GENERIC 01 (PLAYER 2)]               ;;;;;;
Object ShireGeneric01
	VoiceSelect		= CivilianInnSelect
	RadarPriority       = STRUCTURE
  BuildCost           = 2000 ;GONDOR_WORKSHOP_BUILDCOST
  BuildTime           = 45 ;GONDOR_WORKSHOP_BUILDTIME
  BountyValue         = 50 ;GONDOR_WORKSHOP_BOUNTY_VALUE
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = GONDOR_WORKSHOP_SHROUD_CLEAR
   VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

    UnitSpecificSounds
        UnderConstruction		= BuildingConstructionLoop  ; Built first time
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
    End

 	CampnessValue = CAMPNESS_TECH_BUILDING
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP
	KeepSelectableWhenDead = Yes

	AddModule 
	Behavior = ProductionUpdate ProductionUpdateModuleTag
	End
	End
	AddModule

	Behavior = BuildingBehavior BuildingModuleTag
	End
	End

	AddModule 
	Behavior = QueueProductionExitUpdate ModuleTag_QueueProduction
		UnitCreatePoint    = X:-0.1480	   Y:14.8616		 Z:0.0
;X:14.8616 Y:-0.1480 Z:0.0
		NaturalRallyPoint  = X:25	   Y:26		 Z:0.0 ;;=;; X:-0.1480   Y:26.0		 Z:0.0
;X:26.0 Y:-0.1480 Z:0.0
		ExitDelay = 25
	End
	End

AddModule ModuleTag_CommandSetDwarven
	Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
		TriggeredBy	= Upgrade_DwarfFaction
		CommandSet	= CommandSetInnPlayer1
	End
End
AddModule ModuleTag_CommandSetMen
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
		TriggeredBy	= Upgrade_MenFaction
		CommandSet	= CommandSetInnPlayer1
	End
End
AddModule ModuleTag_CommandSetElven
	Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
		TriggeredBy	= Upgrade_ElfFaction
		CommandSet	= CommandSetInnPlayer1
	End
End

AddModule ModuleTag_CommandSetIsengard
	Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
		TriggeredBy	= Upgrade_IsengardFaction
		CommandSet	= CommandSetInnPlayer1
	End
End
AddModule ModuleTag_CommandSetMordor
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
		TriggeredBy	= Upgrade_MordorFaction
		CommandSet	= CommandSetInnPlayer1
	End
End
AddModule ModuleTag_CommandSetWild
	Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
		TriggeredBy	= Upgrade_WildFaction
		CommandSet	= CommandSetInnPlayer1
	End
End
End

;;;;;;;					[GREEN DRAGON(PLAYER 1)]               ;;;;;;


Object ShireGreenDragon

	ReplaceModule QueueProductionModuleTag
	Behavior = QueueProductionExitUpdate QueueProductionModuleTag2
		UnitCreatePoint    = X:14.8616 Y:-0.1480 Z:0.0
		NaturalRallyPoint  = X:26.0 Y:15 Z:0.0 ;;=;; X:26.0 Y:-0.1480 Z:0.0
		ExitDelay = 50
	End
	End

ReplaceModule ModuleTag_CommandSetDwarven
	Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven1
		TriggeredBy	= Upgrade_DwarfFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
ReplaceModule ModuleTag_CommandSetMen
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMen1
		TriggeredBy	= Upgrade_MenFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
ReplaceModule ModuleTag_CommandSetElven
	Behavior = CommandSetUpgrade ModuleTag_CommandSetElven1
		TriggeredBy	= Upgrade_ElfFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
ReplaceModule ModuleTag_CommandSetIsengard
	Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard1
		TriggeredBy	= Upgrade_IsengardFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
ReplaceModule ModuleTag_CommandSetMordor
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor1
		TriggeredBy	= Upgrade_MordorFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
ReplaceModule ModuleTag_CommandSetWild
	Behavior = CommandSetUpgrade ModuleTag_CommandSetWild1
		TriggeredBy	= Upgrade_WildFaction
		CommandSet	= CommandSetInnPlayer2
	End
End
End




;;----------------------------------specialpower.ini--------------------------------;;
SpecialPower SpellBookFarsight
	Enum				= SPECIAL_SPELL_BOOK_PALANTIR_VISION
	Flags				= WATER_OK RESPECT_RECHARGE_TIME_DISCOUNT
	ReloadTime			= 90000 ; ;SPELL_RECHARGE_TIME_TIER_1 ; in milliseconds
	RadiusCursorRadius		= 100.0 ; ;300.0
	RequiredSciences			= SCIENCE_Farsight
	InitiateAtLocationSound	= SpellFarsight
End

SpecialPower SpecialAbilityThranduilDeadeye
	Enum					   = SPECIAL_HERO_MODE
	ReloadTime				   = 60000 ;;=;; 50000 ; 
End

SpecialPower SpecialAbilityThornVengeance
  Enum                = SPECIAL_WOUND_ARROW
  ReloadTime          = 30000 ;;=;; 26000
;  RadiusCursorRadius  = 150.0
  InitiateAtLocationSound = GenericSpell
  ;PalantirMovie = PalantirAlert_RohanReinforcements
  ObjectFilter = ALL -BASE_FOUNDATION -INERT -IGNORED_IN_GUI -WALK_ON_TOP_OF_WALL -BLOCKING_GATE -WALL_UPGRADE -UNATTACKABLE -MOVE_ONLY
End


SpecialPower SpecialAbilityWoundArrow
  Enum                = SPECIAL_WOUND_ARROW
  ReloadTime          = 35000 ; in milliseconds
;  RadiusCursorRadius  = 150.0
  InitiateAtLocationSound = GenericSpell
  ;PalantirMovie = PalantirAlert_RohanReinforcements
  ObjectFilter = ALL -BASE_FOUNDATION -INERT -IGNORED_IN_GUI -WALK_ON_TOP_OF_WALL -BLOCKING_GATE -WALL_UPGRADE -UNATTACKABLE -MOVE_ONLY
End



;;--------------------------------------------------------------------------;;


ExperienceLevel	ThranduilLevel5
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	300  
	ExperienceAward					=	THRANDUIL_LVL5_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage4
	Rank							=	5
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	
ExperienceLevel	ThranduilLevel6
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	500  
	ExperienceAward					=	THRANDUIL_LVL6_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage5
	Rank							=	6
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades 						= 	Upgrade_ThranduilWildWalk ; ;
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	
ExperienceLevel	ThranduilLevel7
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	700  
	ExperienceAward					=	THRANDUIL_LVL7_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage6
	Rank							=	7
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL	
	Upgrades						=   Upgrade_ThranduilMoveUnseen
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	
ExperienceLevel	ThranduilLevel8
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	1200  
	ExperienceAward					=	THRANDUIL_LVL8_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage7
	Rank							=	8
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	
ExperienceLevel	ThranduilLevel9
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	1500  
	ExperienceAward					=	THRANDUIL_LVL9_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage8
	Rank							=	9
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	
ExperienceLevel	ThranduilLevel10
	TargetNames						=	ElvenThranduil
	RequiredExperience				=	2000  
	ExperienceAward					=	THRANDUIL_LVL10_EXP_AWARD	
  	AttributeModifiers				=	HeroLevelUpDamage9
	Rank							=	10
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Upgrades						=   Upgrade_ThranduilThornofVengeance
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1

	End	
END	


Object MordorBalrog
	ArmorSet
		Conditions      = None
		Armor           = BalrogitoArmor
		DamageFX        = NormalDamageFX
	End
	RemoveModule ModuleTag_LifetimeUpdate
	ReplaceModule ModuleTag_02
		Body = ActiveBody ModuleTag_Overide
		MaxHealth = 88500 ;;=;; 87000 ;;=;; 90000                 
		MaxHealthDamaged = 45000 ; ; 47500
		End
	End
End
;;-----------------------------------------------End---------------------------------------------------;;

AIData
  LowLodTreeName = TreeLowLODTowerHills
END
